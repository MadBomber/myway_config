{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"MywayConfig","text":"<p>Configuration management for Ruby applications with XDG support and auto-configuration from YAML.</p> <p>MywayConfig extends anyway_config with:</p> <ul> <li>XDG config file loading - Respects <code>~/.config/&lt;app&gt;/config.yml</code></li> <li>Bundled defaults - Ship defaults with your gem</li> <li>Auto-configuration - Define structure once in YAML, access everywhere</li> <li>Hash-like behavior - <code>Enumerable</code> support for config sections</li> </ul>"},{"location":"#features","title":"Features","text":"<pre><code># Define once in YAML\ndefaults:\n  database:\n    host: localhost\n    port: 5432\n  log_level: :info\n\nproduction:\n  database:\n    host: prod-db.example.com\n</code></pre> <pre><code># Access with clean Ruby syntax\nconfig.database.host      # =&gt; \"localhost\"\nconfig.database[:host]    # =&gt; \"localhost\"\nconfig.database['host']   # =&gt; \"localhost\"\nconfig.log_level          # =&gt; :info\n</code></pre>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>require \"myway_config\"\n\nmodule MyApp\n  class Config &lt; MywayConfig::Base\n    config_name :myapp\n    env_prefix  :myapp\n    defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\n    auto_configure!\n  end\n\n  def self.config\n    @config ||= Config.new\n  end\nend\n\n# Use it\nMyApp.config.database.host\nMyApp.config.production?\n</code></pre>"},{"location":"#installation","title":"Installation","text":"<pre><code>gem install myway_config\n</code></pre> <p>Or add to your Gemfile:</p> <pre><code>gem \"myway_config\"\n</code></pre>"},{"location":"#configuration-priority","title":"Configuration Priority","text":"<p>Values are loaded in priority order (lowest to highest):</p> <ol> <li>Bundled defaults (<code>defaults.yml</code> - the <code>defaults:</code> section)</li> <li>Environment overrides (<code>defaults.yml</code> - e.g., <code>production:</code> section)</li> <li>XDG user config (<code>~/.config/&lt;app&gt;/config.yml</code>)</li> <li>Project config (<code>./config/&lt;app&gt;.yml</code>)</li> <li>Environment variables (<code>MYAPP_DATABASE__HOST=...</code>)</li> <li>Constructor overrides</li> </ol>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Installation - Get up and running</li> <li>Quick Start - Build your first config</li> <li>Guides - Deep dive into features</li> <li>API Reference - Complete API documentation</li> </ul>"},{"location":"api/","title":"API Reference","text":"<p>Complete API documentation for MywayConfig.</p>"},{"location":"api/#core-classes","title":"Core Classes","text":"<ul> <li>MywayConfig::Base - Base class for configuration</li> <li>ConfigSection - Hash-like configuration sections</li> <li>Loaders - Configuration loaders</li> </ul>"},{"location":"api/#module","title":"Module","text":""},{"location":"api/#mywayconfig","title":"MywayConfig","text":"<p>The main module provides setup and error classes.</p>"},{"location":"api/#methods","title":"Methods","text":""},{"location":"api/#mywayconfigsetup","title":"<code>MywayConfig.setup!</code>","text":"<p>Registers the XDG and defaults loaders with Anyway Config. Called automatically when the gem is loaded.</p> <pre><code>MywayConfig.setup!\n</code></pre>"},{"location":"api/#mywayconfigsetup_1","title":"<code>MywayConfig.setup?</code>","text":"<p>Check if setup has been completed.</p> <pre><code>MywayConfig.setup?  # =&gt; true\n</code></pre>"},{"location":"api/#mywayconfigreset","title":"<code>MywayConfig.reset!</code>","text":"<p>Reset setup state (mainly for testing).</p> <pre><code>MywayConfig.reset!\n</code></pre>"},{"location":"api/#error-classes","title":"Error Classes","text":""},{"location":"api/#mywayconfigerror","title":"MywayConfig::Error","text":"<p>Base error class for all MywayConfig errors.</p> <pre><code>begin\n  # ...\nrescue MywayConfig::Error =&gt; e\n  # Handle any MywayConfig error\nend\n</code></pre>"},{"location":"api/#mywayconfigconfigurationerror","title":"MywayConfig::ConfigurationError","text":"<p>Raised for configuration problems:</p> <ul> <li>Missing defaults file</li> <li>Invalid constructor argument</li> <li><code>auto_configure!</code> called without <code>defaults_path</code></li> </ul> <pre><code>begin\n  MyConfig.new(\"/nonexistent/file.yml\")\nrescue MywayConfig::ConfigurationError =&gt; e\n  puts \"Config error: #{e.message}\"\nend\n</code></pre>"},{"location":"api/#mywayconfigvalidationerror","title":"MywayConfig::ValidationError","text":"<p>Reserved for validation errors (future use).</p>"},{"location":"api/#constants","title":"Constants","text":""},{"location":"api/#mywayconfigversion","title":"MywayConfig::VERSION","text":"<p>The gem version string.</p> <pre><code>MywayConfig::VERSION  # =&gt; \"0.1.0\"\n</code></pre>"},{"location":"api/base/","title":"MywayConfig::Base","text":"<p>Base class for configuration. Extends <code>Anyway::Config</code>.</p>"},{"location":"api/base/#class-methods","title":"Class Methods","text":""},{"location":"api/base/#config_name","title":"config_name","text":"<p>Set the configuration name.</p> <pre><code>config_name :myapp\n</code></pre> <p>Parameters:</p> <ul> <li><code>name</code> (Symbol) - The configuration name</li> </ul> <p>Used for:</p> <ul> <li>Finding config files (<code>config/myapp.yml</code>)</li> <li>XDG config path (<code>~/.config/myapp/config.yml</code>)</li> <li>Loader registration</li> </ul>"},{"location":"api/base/#env_prefix","title":"env_prefix","text":"<p>Set the environment variable prefix.</p> <pre><code>env_prefix :myapp\n</code></pre> <p>Parameters:</p> <ul> <li><code>prefix</code> (Symbol) - The prefix for environment variables</li> </ul> <p>Result:</p> <p>Environment variables like <code>MYAPP_DATABASE__HOST</code> will be recognized.</p>"},{"location":"api/base/#defaults_path","title":"defaults_path","text":"<p>Register the defaults file path.</p> <pre><code>defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\n</code></pre> <p>Parameters:</p> <ul> <li><code>path</code> (String) - Absolute path to the defaults YAML file</li> </ul> <p>Raises:</p> <ul> <li><code>ConfigurationError</code> if the file does not exist</li> </ul>"},{"location":"api/base/#auto_configure","title":"auto_configure!","text":"<p>Auto-generate attributes and coercions from the YAML schema.</p> <pre><code>auto_configure!\n</code></pre> <p>Raises:</p> <ul> <li><code>ConfigurationError</code> if <code>defaults_path</code> is not set</li> </ul> <p>Behavior:</p> <ul> <li>Creates <code>attr_config</code> for each key in the <code>defaults:</code> section</li> <li>Coerces Hash values to <code>ConfigSection</code></li> <li>Coerces Symbol values to symbols</li> </ul>"},{"location":"api/base/#schema","title":"schema","text":"<p>Returns the defaults section from the YAML file.</p> <pre><code>MyConfig.schema  # =&gt; {database: {host: \"localhost\", ...}, ...}\n</code></pre> <p>Returns:</p> <ul> <li><code>Hash</code> - The parsed <code>defaults:</code> section</li> </ul>"},{"location":"api/base/#config_section_coercion","title":"config_section_coercion","text":"<p>Create a coercion proc that merges with schema defaults.</p> <pre><code>coerce_types(\n  database: config_section_coercion(:database)\n)\n</code></pre> <p>Parameters:</p> <ul> <li><code>section_key</code> (Symbol) - The section key in the schema</li> </ul> <p>Returns:</p> <ul> <li><code>Proc</code> - Coercion proc for use with <code>coerce_types</code></li> </ul>"},{"location":"api/base/#config_section","title":"config_section","text":"<p>Create a simple ConfigSection coercion (without schema defaults).</p> <pre><code>coerce_types(\n  settings: config_section\n)\n</code></pre> <p>Returns:</p> <ul> <li><code>Proc</code> - Coercion proc</li> </ul>"},{"location":"api/base/#to_symbol","title":"to_symbol","text":"<p>Create a symbol coercion proc.</p> <pre><code>coerce_types(\n  log_level: to_symbol\n)\n</code></pre> <p>Returns:</p> <ul> <li><code>Proc</code> - Coercion proc that converts to symbol</li> </ul>"},{"location":"api/base/#env","title":"env","text":"<p>Get the current environment.</p> <pre><code>MyConfig.env  # =&gt; \"development\"\n</code></pre> <p>Returns:</p> <ul> <li><code>String</code> - Current environment name</li> </ul> <p>Priority:</p> <ol> <li><code>Anyway::Settings.current_environment</code></li> <li><code>ENV['RAILS_ENV']</code></li> <li><code>ENV['RACK_ENV']</code></li> <li><code>'development'</code></li> </ol>"},{"location":"api/base/#valid_environments","title":"valid_environments","text":"<p>Get list of valid environment names from the defaults file.</p> <pre><code>MyConfig.valid_environments  # =&gt; [:development, :production, :test]\n</code></pre> <p>Returns:</p> <ul> <li><code>Array&lt;Symbol&gt;</code> - Environment names defined in YAML</li> </ul>"},{"location":"api/base/#valid_environment","title":"valid_environment?","text":"<p>Check if current environment is valid.</p> <pre><code>MyConfig.valid_environment?  # =&gt; true\n</code></pre> <p>Returns:</p> <ul> <li><code>Boolean</code> - true if environment has a section in YAML</li> </ul>"},{"location":"api/base/#instance-methods","title":"Instance Methods","text":""},{"location":"api/base/#initialize","title":"initialize","text":"<p>Create a new configuration instance.</p> <pre><code># Default (use loaders)\nconfig = MyConfig.new\n\n# From file path\nconfig = MyConfig.new(\"/path/to/config.yml\")\n\n# From Hash\nconfig = MyConfig.new(database: { host: \"custom\" })\n</code></pre> <p>Parameters:</p> <ul> <li><code>source</code> (nil, String, Pathname, Hash) - Configuration source</li> </ul> <p>Raises:</p> <ul> <li><code>ConfigurationError</code> if file path doesn't exist</li> <li><code>ConfigurationError</code> if source type is invalid</li> </ul>"},{"location":"api/base/#environment","title":"environment","text":"<p>Get the current environment name.</p> <pre><code>config.environment  # =&gt; \"development\"\n</code></pre> <p>Returns:</p> <ul> <li><code>String</code> - Current environment</li> </ul>"},{"location":"api/base/#development","title":"development?","text":"<p>Check if running in development environment.</p> <pre><code>config.development?  # =&gt; true\n</code></pre>"},{"location":"api/base/#production","title":"production?","text":"<p>Check if running in production environment.</p> <pre><code>config.production?  # =&gt; false\n</code></pre>"},{"location":"api/base/#test","title":"test?","text":"<p>Check if running in test environment.</p> <pre><code>config.test?  # =&gt; false\n</code></pre>"},{"location":"api/base/#valid_environment_1","title":"valid_environment?","text":"<p>Check if current environment is valid.</p> <pre><code>config.valid_environment?  # =&gt; true\n</code></pre>"},{"location":"api/base/#example","title":"Example","text":"<pre><code>class MyApp::Config &lt; MywayConfig::Base\n  config_name :myapp\n  env_prefix  :myapp\n  defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\n  auto_configure!\nend\n\nconfig = MyApp::Config.new\nconfig.database.host      # =&gt; \"localhost\"\nconfig.environment        # =&gt; \"development\"\nconfig.development?       # =&gt; true\n</code></pre>"},{"location":"api/config-section/","title":"ConfigSection","text":"<p>Hash-like wrapper for nested configuration with method access and Enumerable support.</p>"},{"location":"api/config-section/#overview","title":"Overview","text":"<p><code>ConfigSection</code> wraps Hash values from YAML, providing:</p> <ul> <li>Method access (<code>config.database.host</code>)</li> <li>Bracket access (<code>config.database[:host]</code>)</li> <li>Enumerable iteration</li> <li>Hash-like methods (<code>keys</code>, <code>values</code>, <code>fetch</code>, <code>dig</code>)</li> </ul>"},{"location":"api/config-section/#constructor","title":"Constructor","text":""},{"location":"api/config-section/#new","title":"new","text":"<p>Create a new ConfigSection from a Hash.</p> <pre><code>section = MywayConfig::ConfigSection.new(host: \"localhost\", port: 5432)\n</code></pre> <p>Parameters:</p> <ul> <li><code>hash</code> (Hash) - The hash to wrap (default: <code>{}</code>)</li> </ul> <p>Behavior:</p> <ul> <li>Keys are symbolized</li> <li>Nested Hashes become nested ConfigSections</li> </ul>"},{"location":"api/config-section/#access-methods","title":"Access Methods","text":""},{"location":"api/config-section/#method-access","title":"Method Access","text":"<pre><code>section.host        # =&gt; \"localhost\"\nsection.port        # =&gt; 5432\nsection.missing     # =&gt; nil\n</code></pre>"},{"location":"api/config-section/#bracket-access","title":"Bracket Access","text":"<pre><code>section[:host]      # =&gt; \"localhost\"\nsection[\"host\"]     # =&gt; \"localhost\"\n</code></pre>"},{"location":"api/config-section/#setting-values","title":"Setting Values","text":"<pre><code>section.host = \"new-host\"\nsection[:port] = 5433\n</code></pre>"},{"location":"api/config-section/#hash-methods","title":"Hash Methods","text":""},{"location":"api/config-section/#keys","title":"keys","text":"<p>Get all keys.</p> <pre><code>section.keys  # =&gt; [:host, :port, :name]\n</code></pre> <p>Returns:</p> <ul> <li><code>Array&lt;Symbol&gt;</code> - All keys</li> </ul>"},{"location":"api/config-section/#values","title":"values","text":"<p>Get all values.</p> <pre><code>section.values  # =&gt; [\"localhost\", 5432, \"myapp_db\"]\n</code></pre> <p>Returns:</p> <ul> <li><code>Array</code> - All values</li> </ul>"},{"location":"api/config-section/#size-length","title":"size / length","text":"<p>Get the number of keys.</p> <pre><code>section.size    # =&gt; 3\nsection.length  # =&gt; 3\n</code></pre> <p>Returns:</p> <ul> <li><code>Integer</code> - Number of keys</li> </ul>"},{"location":"api/config-section/#key-has_key-include-member","title":"key? / has_key? / include? / member?","text":"<p>Check if a key exists.</p> <pre><code>section.key?(:host)       # =&gt; true\nsection.has_key?(:host)   # =&gt; true\nsection.include?(:host)   # =&gt; true\nsection.member?(:host)    # =&gt; true\n</code></pre> <p>Parameters:</p> <ul> <li><code>key</code> (Symbol, String) - The key to check</li> </ul> <p>Returns:</p> <ul> <li><code>Boolean</code> - true if key exists</li> </ul>"},{"location":"api/config-section/#empty","title":"empty?","text":"<p>Check if the section has no keys.</p> <pre><code>section.empty?  # =&gt; false\nMywayConfig::ConfigSection.new.empty?  # =&gt; true\n</code></pre> <p>Returns:</p> <ul> <li><code>Boolean</code> - true if no keys</li> </ul>"},{"location":"api/config-section/#fetch","title":"fetch","text":"<p>Fetch a value with optional default.</p> <pre><code># With key\nsection.fetch(:host)  # =&gt; \"localhost\"\n\n# With default value\nsection.fetch(:missing, \"default\")  # =&gt; \"default\"\n\n# With block\nsection.fetch(:missing) { |k| \"no #{k}\" }  # =&gt; \"no missing\"\n\n# Without default (raises KeyError)\nsection.fetch(:missing)  # =&gt; KeyError: key not found: :missing\n</code></pre> <p>Parameters:</p> <ul> <li><code>key</code> (Symbol, String) - The key to fetch</li> <li><code>default</code> (Object) - Optional default value</li> </ul> <p>Yields:</p> <ul> <li><code>key</code> - When block provided and key missing</li> </ul> <p>Returns:</p> <ul> <li><code>Object</code> - The value or default</li> </ul> <p>Raises:</p> <ul> <li><code>KeyError</code> - If key not found and no default</li> </ul>"},{"location":"api/config-section/#dig","title":"dig","text":"<p>Access nested values safely.</p> <pre><code>config.api.dig(:headers, :content_type)  # =&gt; \"application/json\"\nconfig.api.dig(:missing, :nested)        # =&gt; nil\n</code></pre> <p>Parameters:</p> <ul> <li><code>keys</code> (Array) - Keys to dig through <p>Returns:</p> <ul> <li><code>Object, nil</code> - The value or nil if not found</li> </ul>"},{"location":"api/config-section/#and","title":"[] and []=","text":"<p>Bracket access and assignment.</p> <pre><code>section[:host]        # =&gt; \"localhost\"\nsection[:host] = \"new-host\"\n</code></pre>"},{"location":"api/config-section/#enumerable-methods","title":"Enumerable Methods","text":"<p>ConfigSection includes <code>Enumerable</code>, providing all iteration methods.</p>"},{"location":"api/config-section/#each","title":"each","text":"<p>Iterate over key-value pairs.</p> <pre><code>section.each do |key, value|\n  puts \"#{key}: #{value}\"\nend\n</code></pre>"},{"location":"api/config-section/#map","title":"map","text":"<p>Transform key-value pairs.</p> <pre><code>section.map { |k, v| \"#{k}=#{v}\" }\n# =&gt; [\"host=localhost\", \"port=5432\"]\n</code></pre>"},{"location":"api/config-section/#select-reject","title":"select / reject","text":"<p>Filter key-value pairs.</p> <pre><code>section.select { |k, v| v.is_a?(Integer) }\n# =&gt; [[:port, 5432], [:pool, 5]]\n\nsection.reject { |k, v| v.nil? }\n</code></pre>"},{"location":"api/config-section/#find-detect","title":"find / detect","text":"<p>Find first matching pair.</p> <pre><code>section.find { |k, v| v == 5432 }\n# =&gt; [:port, 5432]\n</code></pre>"},{"location":"api/config-section/#any-all-none","title":"any? / all? / none?","text":"<p>Check conditions.</p> <pre><code>section.any? { |k, v| v.nil? }   # =&gt; false\nsection.all? { |k, v| v }        # =&gt; true\nsection.none? { |k, v| v.nil? }  # =&gt; true\n</code></pre>"},{"location":"api/config-section/#other-enumerable-methods","title":"Other Enumerable Methods","text":"<p>All standard Enumerable methods work:</p> <ul> <li><code>count</code>, <code>first</code>, <code>take</code>, <code>drop</code></li> <li><code>min</code>, <code>max</code>, <code>minmax</code></li> <li><code>sort</code>, <code>sort_by</code></li> <li><code>group_by</code>, <code>partition</code></li> <li><code>reduce</code>, <code>inject</code></li> <li>And more...</li> </ul>"},{"location":"api/config-section/#conversion-methods","title":"Conversion Methods","text":""},{"location":"api/config-section/#to_h","title":"to_h","text":"<p>Convert to a plain Ruby Hash.</p> <pre><code>section.to_h\n# =&gt; {host: \"localhost\", port: 5432, name: \"myapp_db\"}\n</code></pre> <p>Nested ConfigSections are also converted:</p> <pre><code>config.api.to_h\n# =&gt; {\n#      base_url: \"https://api.example.com\",\n#      timeout: 30,\n#      headers: {content_type: \"application/json\"}\n#    }\n</code></pre> <p>Returns:</p> <ul> <li><code>Hash</code> - Plain Ruby Hash</li> </ul>"},{"location":"api/config-section/#merge","title":"merge","text":"<p>Merge with another ConfigSection or Hash.</p> <pre><code>overrides = { host: \"new-host\", pool: 10 }\nmerged = section.merge(overrides)\n\nmerged.host  # =&gt; \"new-host\"\nmerged.pool  # =&gt; 10\nmerged.port  # =&gt; 5432 (from original)\n</code></pre> <p>Parameters:</p> <ul> <li><code>other</code> (ConfigSection, Hash) - Values to merge</li> </ul> <p>Returns:</p> <ul> <li><code>ConfigSection</code> - New merged ConfigSection</li> </ul>"},{"location":"api/config-section/#examples","title":"Examples","text":""},{"location":"api/config-section/#building-connection-strings","title":"Building Connection Strings","text":"<pre><code>db = config.database\nconnection_string = \"postgres://#{db.host}:#{db.port}/#{db.name}\"\n# =&gt; \"postgres://localhost:5432/myapp_db\"\n</code></pre>"},{"location":"api/config-section/#filtering-configuration","title":"Filtering Configuration","text":"<pre><code># Get all non-nil settings\nconfig.database.reject { |k, v| v.nil? }.to_h\n</code></pre>"},{"location":"api/config-section/#transforming-values","title":"Transforming Values","text":"<pre><code># Upcase all string values\nconfig.database.map { |k, v|\n  [k, v.is_a?(String) ? v.upcase : v]\n}.to_h\n</code></pre>"},{"location":"api/config-section/#safe-nested-access","title":"Safe Nested Access","text":"<pre><code># Won't raise even if path doesn't exist\ntimeout = config.api.dig(:retry, :timeout) || 30\n</code></pre>"},{"location":"api/loaders/","title":"Loaders","text":"<p>MywayConfig provides custom loaders that extend Anyway Config's loading system.</p>"},{"location":"api/loaders/#loading-priority","title":"Loading Priority","text":"<p>Configuration values are loaded in order (lowest to highest priority):</p> <ol> <li>DefaultsLoader - Bundled defaults from your gem</li> <li>XdgConfigLoader - User's XDG config files</li> <li>Anyway Config loaders - Project config, local overrides</li> <li>Environment variables - <code>PREFIX_KEY=value</code></li> <li>Constructor overrides - Hash passed to <code>new</code></li> </ol> <p>Higher priority sources override lower priority values.</p>"},{"location":"api/loaders/#defaultsloader","title":"DefaultsLoader","text":"<p>Loads bundled default configuration from a YAML file.</p>"},{"location":"api/loaders/#purpose","title":"Purpose","text":"<p>Ensures default values are always available regardless of where the gem is installed. The defaults file is the single source of truth for configuration structure.</p>"},{"location":"api/loaders/#registration","title":"Registration","text":"<pre><code>class MyApp::Config &lt; MywayConfig::Base\n  config_name :myapp\n  defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\nend\n</code></pre>"},{"location":"api/loaders/#class-methods","title":"Class Methods","text":""},{"location":"api/loaders/#register","title":"register","text":"<p>Register a defaults file path.</p> <pre><code>MywayConfig::Loaders::DefaultsLoader.register(:myapp, \"/path/to/defaults.yml\")\n</code></pre>"},{"location":"api/loaders/#defaults_path","title":"defaults_path","text":"<p>Get the registered path for a config name.</p> <pre><code>MywayConfig::Loaders::DefaultsLoader.defaults_path(:myapp)\n# =&gt; \"/path/to/defaults.yml\"\n</code></pre>"},{"location":"api/loaders/#defaults_exist","title":"defaults_exist?","text":"<p>Check if defaults file exists.</p> <pre><code>MywayConfig::Loaders::DefaultsLoader.defaults_exist?(:myapp)\n# =&gt; true\n</code></pre>"},{"location":"api/loaders/#schema","title":"schema","text":"<p>Get the defaults section from the YAML file.</p> <pre><code>MywayConfig::Loaders::DefaultsLoader.schema(:myapp)\n# =&gt; {database: {host: \"localhost\", ...}, log_level: :info, ...}\n</code></pre>"},{"location":"api/loaders/#valid_environments","title":"valid_environments","text":"<p>Get list of valid environment names.</p> <pre><code>MywayConfig::Loaders::DefaultsLoader.valid_environments(:myapp)\n# =&gt; [:development, :production, :test]\n</code></pre>"},{"location":"api/loaders/#valid_environment","title":"valid_environment?","text":"<p>Check if an environment name is valid.</p> <pre><code>MywayConfig::Loaders::DefaultsLoader.valid_environment?(:myapp, :production)\n# =&gt; true\n\nMywayConfig::Loaders::DefaultsLoader.valid_environment?(:myapp, :staging)\n# =&gt; false\n</code></pre>"},{"location":"api/loaders/#loading-behavior","title":"Loading Behavior","text":"<p>The loader:</p> <ol> <li>Reads the <code>defaults:</code> section as base values</li> <li>Deep-merges current environment's overrides</li> <li>Returns the merged configuration</li> </ol> <pre><code># defaults.yml\ndefaults:\n  database:\n    host: localhost\n    port: 5432\n\nproduction:\n  database:\n    host: prod-db.example.com\n</code></pre> <p>In production, the loader returns:</p> <pre><code>{database: {host: \"prod-db.example.com\", port: 5432}}\n</code></pre>"},{"location":"api/loaders/#xdgconfigloader","title":"XdgConfigLoader","text":"<p>Loads user configuration from XDG Base Directory paths.</p>"},{"location":"api/loaders/#purpose_1","title":"Purpose","text":"<p>Allows users to override configuration globally without modifying project files. Useful for personal preferences or machine-specific settings.</p>"},{"location":"api/loaders/#xdg-paths","title":"XDG Paths","text":"<p>The loader checks these paths (in order of priority):</p> <ol> <li>macOS only: <code>~/Library/Application Support/{app}/{app}.yml</code></li> <li><code>~/.config/{app}/{app}.yml</code> (XDG default)</li> <li><code>$XDG_CONFIG_HOME/{app}/{app}.yml</code> (if set)</li> </ol> <p>Higher-numbered paths take precedence.</p>"},{"location":"api/loaders/#class-methods_1","title":"Class Methods","text":""},{"location":"api/loaders/#config_paths","title":"config_paths","text":"<p>Get all potential config directory paths.</p> <pre><code>MywayConfig::Loaders::XdgConfigLoader.config_paths(:myapp)\n# =&gt; [\n#      \"/Users/me/Library/Application Support/myapp\",  # macOS only\n#      \"/Users/me/.config/myapp\"\n#    ]\n</code></pre>"},{"location":"api/loaders/#find_config_file","title":"find_config_file","text":"<p>Find the first existing config file.</p> <pre><code>MywayConfig::Loaders::XdgConfigLoader.find_config_file(:myapp)\n# =&gt; \"/Users/me/.config/myapp/myapp.yml\" or nil\n</code></pre>"},{"location":"api/loaders/#file-format","title":"File Format","text":"<p>XDG config files can be flat or environment-specific:</p> <p>Flat format:</p> <pre><code># ~/.config/myapp/myapp.yml\ndatabase:\n  host: my-custom-host\n  port: 5433\n</code></pre> <p>With environments:</p> <pre><code># ~/.config/myapp/myapp.yml\ndevelopment:\n  database:\n    host: dev-custom-host\n\nproduction:\n  database:\n    host: prod-custom-host\n</code></pre>"},{"location":"api/loaders/#example-usage","title":"Example Usage","text":"<p>Create a user-specific override:</p> <pre><code>mkdir -p ~/.config/myapp\ncat &gt; ~/.config/myapp/myapp.yml &lt;&lt; 'EOF'\ndatabase:\n  host: custom-db.local\n  port: 5433\nEOF\n</code></pre> <p>Now your application uses these values:</p> <pre><code>config = MyApp::Config.new\nconfig.database.host  # =&gt; \"custom-db.local\"\nconfig.database.port  # =&gt; 5433\n</code></pre>"},{"location":"api/loaders/#loader-registration","title":"Loader Registration","text":"<p>Loaders are automatically registered when you call <code>MywayConfig.setup!</code> (which happens when requiring the gem).</p> <pre><code># lib/myway_config.rb\nmodule MywayConfig\n  def self.setup!\n    return if @setup_complete\n\n    Anyway.loaders.insert_before(\n      :yml,\n      :xdg_config,\n      Loaders::XdgConfigLoader\n    )\n\n    Anyway.loaders.insert_before(\n      :xdg_config,\n      :bundled_defaults,\n      Loaders::DefaultsLoader\n    )\n\n    @setup_complete = true\n  end\nend\n</code></pre>"},{"location":"api/loaders/#manual-setup","title":"Manual Setup","text":"<p>If you need to control when loaders are registered:</p> <pre><code>require 'myway_config'\n\n# Check if already set up\nMywayConfig.setup?  # =&gt; true (automatic)\n\n# Reset and re-setup (mainly for testing)\nMywayConfig.reset!\nMywayConfig.setup!\n</code></pre>"},{"location":"api/loaders/#custom-loaders","title":"Custom Loaders","text":"<p>You can create custom loaders by extending <code>Anyway::Loaders::Base</code>:</p> <pre><code>class MyCustomLoader &lt; Anyway::Loaders::Base\n  def call(name:, **options)\n    trace!(:custom, source: \"my_source\") do\n      # Return a Hash of configuration values\n      load_from_custom_source(name)\n    end\n  end\n\n  private\n\n  def load_from_custom_source(name)\n    # Your loading logic here\n    {}\n  end\nend\n\n# Register the loader\nAnyway.loaders.insert_after(:yml, :custom, MyCustomLoader)\n</code></pre>"},{"location":"development/","title":"Development","text":"<p>Information for contributing to MywayConfig.</p>"},{"location":"development/#guides","title":"Guides","text":""},{"location":"development/#contributing","title":"Contributing","text":"<p>How to contribute to the project:</p> <ul> <li>Setting up the development environment</li> <li>Making changes</li> <li>Submitting pull requests</li> </ul>"},{"location":"development/#testing","title":"Testing","text":"<p>Running and writing tests:</p> <ul> <li>Test suite overview</li> <li>Running tests</li> <li>Code coverage</li> </ul>"},{"location":"development/#quick-start","title":"Quick Start","text":"<pre><code># Clone the repository\ngit clone https://github.com/madbomber/myway_config.git\ncd myway_config\n\n# Install dependencies\nbin/setup\n\n# Run tests\nbundle exec rake test\n\n# Start interactive console\nbin/console\n</code></pre>"},{"location":"development/#project-structure","title":"Project Structure","text":"<pre><code>myway_config/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 myway_config.rb          # Main module and setup\n\u2502   \u2514\u2500\u2500 myway_config/\n\u2502       \u251c\u2500\u2500 base.rb              # Base configuration class\n\u2502       \u251c\u2500\u2500 config_section.rb    # Hash-like wrapper\n\u2502       \u251c\u2500\u2500 version.rb           # Version constant\n\u2502       \u2514\u2500\u2500 loaders/\n\u2502           \u251c\u2500\u2500 defaults_loader.rb     # Bundled defaults loader\n\u2502           \u2514\u2500\u2500 xdg_config_loader.rb   # XDG config loader\n\u251c\u2500\u2500 test/\n\u2502   \u251c\u2500\u2500 test_helper.rb           # Test setup\n\u2502   \u251c\u2500\u2500 test_myway_config.rb     # Main tests\n\u2502   \u2514\u2500\u2500 fixtures/                # Test YAML files\n\u251c\u2500\u2500 examples/\n\u2502   \u251c\u2500\u2500 xyzzy.rb                 # Demo application\n\u2502   \u2514\u2500\u2500 config/\n\u2502       \u2514\u2500\u2500 defaults.yml         # Demo defaults\n\u251c\u2500\u2500 docs/                        # MkDocs documentation\n\u2514\u2500\u2500 .github/\n    \u2514\u2500\u2500 workflows/\n        \u2514\u2500\u2500 ci.yml               # GitHub Actions CI\n</code></pre>"},{"location":"development/#architecture","title":"Architecture","text":"<p>MywayConfig extends Anyway Config with:</p> <ol> <li>DefaultsLoader - Loads bundled YAML defaults</li> <li>XdgConfigLoader - Loads user XDG config files</li> <li>ConfigSection - Hash-like wrapper with Enumerable</li> <li>Base - Configuration base class with <code>auto_configure!</code></li> </ol>"},{"location":"development/#loading-order","title":"Loading Order","text":"<pre><code>DefaultsLoader (lowest priority)\n    \u2193\nXdgConfigLoader\n    \u2193\nAnyway Config loaders (yml, local)\n    \u2193\nEnvironment variables\n    \u2193\nConstructor overrides (highest priority)\n</code></pre>"},{"location":"development/#dependencies","title":"Dependencies","text":"<ul> <li>Ruby 3.2+</li> <li>anyway_config (~&gt; 2.0)</li> </ul>"},{"location":"development/#development-dependencies","title":"Development Dependencies","text":"<ul> <li>minitest</li> <li>rake</li> <li>single_cov</li> </ul>"},{"location":"development/contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing to MywayConfig!</p>"},{"location":"development/contributing/#getting-started","title":"Getting Started","text":""},{"location":"development/contributing/#prerequisites","title":"Prerequisites","text":"<ul> <li>Ruby 3.2 or later</li> <li>Git</li> <li>Bundler</li> </ul>"},{"location":"development/contributing/#setup","title":"Setup","text":"<pre><code># Fork and clone the repository\ngit clone https://github.com/YOUR_USERNAME/myway_config.git\ncd myway_config\n\n# Install dependencies\nbin/setup\n\n# Verify everything works\nbundle exec rake test\n</code></pre>"},{"location":"development/contributing/#development-workflow","title":"Development Workflow","text":""},{"location":"development/contributing/#1-create-a-branch","title":"1. Create a Branch","text":"<pre><code>git checkout -b feature/your-feature-name\n# or\ngit checkout -b fix/your-bug-fix\n</code></pre>"},{"location":"development/contributing/#2-make-changes","title":"2. Make Changes","text":"<ul> <li>Write code following the existing style</li> <li>Add tests for new functionality</li> <li>Update documentation if needed</li> </ul>"},{"location":"development/contributing/#3-run-tests","title":"3. Run Tests","text":"<pre><code># Run all tests\nbundle exec rake test\n\n# Run a specific test file\nbundle exec ruby -Itest test/test_myway_config.rb\n\n# Run a specific test\nbundle exec ruby -Itest test/test_myway_config.rb -n test_auto_configure\n</code></pre>"},{"location":"development/contributing/#4-check-coverage","title":"4. Check Coverage","text":"<pre><code># Run tests with coverage\nbundle exec rake test\n\n# Coverage report is displayed after tests complete\n</code></pre> <p>The project uses <code>single_cov</code> for line-level coverage. All lines should be covered.</p>"},{"location":"development/contributing/#5-commit-changes","title":"5. Commit Changes","text":"<pre><code>git add .\ngit commit -m \"Add feature: description of changes\"\n</code></pre>"},{"location":"development/contributing/#6-push-and-create-pr","title":"6. Push and Create PR","text":"<pre><code>git push origin feature/your-feature-name\n</code></pre> <p>Then create a Pull Request on GitHub.</p>"},{"location":"development/contributing/#code-style","title":"Code Style","text":""},{"location":"development/contributing/#ruby-style","title":"Ruby Style","text":"<ul> <li>Use 2 spaces for indentation</li> <li>Use <code>frozen_string_literal: true</code> pragma</li> <li>Prefer <code>do...end</code> for multi-line blocks</li> <li>Prefer <code>{ }</code> for single-line blocks</li> </ul>"},{"location":"development/contributing/#documentation","title":"Documentation","text":"<ul> <li>Add YARD documentation for public methods</li> <li>Update guides for user-facing changes</li> <li>Include examples in documentation</li> </ul>"},{"location":"development/contributing/#testing","title":"Testing","text":"<ul> <li>Write tests for all new code</li> <li>Test edge cases and error conditions</li> <li>Use descriptive test names</li> </ul>"},{"location":"development/contributing/#project-structure","title":"Project Structure","text":"<pre><code>lib/\n\u251c\u2500\u2500 myway_config.rb              # Entry point\n\u2514\u2500\u2500 myway_config/\n    \u251c\u2500\u2500 base.rb                  # Configuration base class\n    \u251c\u2500\u2500 config_section.rb        # Hash-like wrapper\n    \u251c\u2500\u2500 version.rb               # Version number\n    \u2514\u2500\u2500 loaders/\n        \u251c\u2500\u2500 defaults_loader.rb   # Bundled defaults\n        \u2514\u2500\u2500 xdg_config_loader.rb # XDG paths\n</code></pre>"},{"location":"development/contributing/#adding-features","title":"Adding Features","text":""},{"location":"development/contributing/#new-configuration-option","title":"New Configuration Option","text":"<ol> <li>Add to <code>defaults.yml</code> if applicable</li> <li>Add accessor method if needed</li> <li>Add tests</li> <li>Update documentation</li> </ol>"},{"location":"development/contributing/#new-loader","title":"New Loader","text":"<ol> <li>Create loader in <code>lib/myway_config/loaders/</code></li> <li>Extend <code>Anyway::Loaders::Base</code></li> <li>Register in <code>MywayConfig.setup!</code></li> <li>Add tests</li> <li>Document in <code>docs/api/loaders.md</code></li> </ol>"},{"location":"development/contributing/#new-configsection-method","title":"New ConfigSection Method","text":"<ol> <li>Add method to <code>config_section.rb</code></li> <li>Add YARD documentation</li> <li>Add tests</li> <li>Update <code>docs/api/config-section.md</code></li> </ol>"},{"location":"development/contributing/#running-the-demo","title":"Running the Demo","text":"<pre><code># Run the demo application\nruby examples/xyzzy.rb\n\n# With different environments\nRACK_ENV=production ruby examples/xyzzy.rb\nRACK_ENV=test ruby examples/xyzzy.rb\n\n# With environment variable overrides\nXYZZY_DATABASE__HOST=custom-db.local ruby examples/xyzzy.rb\n</code></pre>"},{"location":"development/contributing/#interactive-console","title":"Interactive Console","text":"<pre><code># Start IRB with the gem loaded\nbin/console\n\n# Or from the examples directory\ncd examples\nirb -r ./xyzzy.rb\n</code></pre>"},{"location":"development/contributing/#documentation_1","title":"Documentation","text":"<p>Documentation is built with MkDocs and Material theme.</p>"},{"location":"development/contributing/#preview-documentation","title":"Preview Documentation","text":"<pre><code># Install MkDocs (if not installed)\npip install mkdocs mkdocs-material\n\n# Serve documentation locally\nmkdocs serve\n\n# Build static site\nmkdocs build\n</code></pre>"},{"location":"development/contributing/#documentation-structure","title":"Documentation Structure","text":"<pre><code>docs/\n\u251c\u2500\u2500 index.md                 # Home page\n\u251c\u2500\u2500 getting-started/         # Installation and quick start\n\u251c\u2500\u2500 guides/                  # Usage guides\n\u251c\u2500\u2500 examples/                # Real-world examples\n\u251c\u2500\u2500 api/                     # API reference\n\u2514\u2500\u2500 development/             # Contributing info\n</code></pre>"},{"location":"development/contributing/#releasing","title":"Releasing","text":"<p>Releases are managed by maintainers:</p> <ol> <li>Update <code>lib/myway_config/version.rb</code></li> <li>Update <code>CHANGELOG.md</code></li> <li>Commit: <code>git commit -m \"Release vX.Y.Z\"</code></li> <li>Tag: <code>git tag vX.Y.Z</code></li> <li>Push: <code>git push origin main --tags</code></li> <li>Build and publish: <code>gem build &amp;&amp; gem push myway_config-X.Y.Z.gem</code></li> </ol>"},{"location":"development/contributing/#getting-help","title":"Getting Help","text":"<ul> <li>Open an issue for bugs or feature requests</li> <li>Check existing issues before creating new ones</li> <li>Provide reproduction steps for bugs</li> </ul>"},{"location":"development/contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the MIT License.</p>"},{"location":"development/testing/","title":"Testing","text":"<p>Running and writing tests for MywayConfig.</p>"},{"location":"development/testing/#running-tests","title":"Running Tests","text":""},{"location":"development/testing/#all-tests","title":"All Tests","text":"<pre><code>bundle exec rake test\n</code></pre>"},{"location":"development/testing/#specific-test-file","title":"Specific Test File","text":"<pre><code>bundle exec ruby -Itest test/test_myway_config.rb\n</code></pre>"},{"location":"development/testing/#specific-test-method","title":"Specific Test Method","text":"<pre><code>bundle exec ruby -Itest test/test_myway_config.rb -n test_auto_configure\n</code></pre>"},{"location":"development/testing/#with-verbose-output","title":"With Verbose Output","text":"<pre><code>bundle exec rake test TESTOPTS=\"--verbose\"\n</code></pre>"},{"location":"development/testing/#code-coverage","title":"Code Coverage","text":"<p>The project uses single_cov for line-level coverage.</p>"},{"location":"development/testing/#how-it-works","title":"How It Works","text":"<p><code>single_cov</code> verifies that every line in the source file is executed by tests. After tests run, it reports any uncovered lines.</p>"},{"location":"development/testing/#viewing-coverage","title":"Viewing Coverage","text":"<p>Coverage is reported after test runs:</p> <pre><code># All lines covered\nRun options: --seed 12345\n\n# Running:\n.........\n\nFinished in 0.05s, 180.0 runs/s, 360.0 assertions/s.\n9 runs, 18 assertions, 0 failures, 0 errors, 0 skips\n\n# If lines are uncovered:\nlib/myway_config/base.rb new uncovered lines introduced (1 current vs 0 configured)\nUncovered lines:\nlib/myway_config/base.rb:42\n</code></pre>"},{"location":"development/testing/#fixing-coverage-issues","title":"Fixing Coverage Issues","text":"<p>If tests fail due to uncovered lines:</p> <ol> <li>Identify the uncovered line from the report</li> <li>Add a test that exercises that code path</li> <li>Re-run tests to verify coverage</li> </ol>"},{"location":"development/testing/#test-structure","title":"Test Structure","text":""},{"location":"development/testing/#test-files","title":"Test Files","text":"<pre><code>test/\n\u251c\u2500\u2500 test_helper.rb              # Test setup and configuration\n\u251c\u2500\u2500 test_myway_config.rb        # Main test file\n\u2514\u2500\u2500 fixtures/\n    \u251c\u2500\u2500 auto_config_defaults.yml    # Fixture for auto_configure tests\n    \u2514\u2500\u2500 custom_config.yml           # Fixture for custom file loading\n</code></pre>"},{"location":"development/testing/#test-helper","title":"Test Helper","text":"<pre><code># test/test_helper.rb\nrequire 'single_cov'\nSingleCov.setup :minitest\n\nrequire 'minitest/autorun'\nrequire 'myway_config'\n\n# Set neutral environment to test pure defaults\nENV['RACK_ENV'] = 'neutral'\n</code></pre>"},{"location":"development/testing/#writing-tests","title":"Writing Tests","text":"<pre><code># test/test_myway_config.rb\nrequire 'test_helper'\n\nclass TestMywayConfig &lt; Minitest::Test\n  def test_config_section_keys\n    section = MywayConfig::ConfigSection.new(\n      host: 'localhost',\n      port: 5432\n    )\n    assert_equal [:host, :port], section.keys\n  end\nend\n</code></pre>"},{"location":"development/testing/#test-fixtures","title":"Test Fixtures","text":""},{"location":"development/testing/#creating-fixtures","title":"Creating Fixtures","text":"<p>Place YAML fixtures in <code>test/fixtures/</code>:</p> <pre><code># test/fixtures/example_defaults.yml\ndefaults:\n  database:\n    host: localhost\n    port: 5432\n\ndevelopment:\n  database:\n    name: example_dev\n\ntest:\n  database:\n    name: example_test\n</code></pre>"},{"location":"development/testing/#using-fixtures","title":"Using Fixtures","text":"<pre><code>def test_loading_from_fixture\n  fixture_path = File.expand_path('fixtures/example_defaults.yml', __dir__)\n\n  Class.new(MywayConfig::Base) do\n    config_name :example\n    defaults_path fixture_path\n    auto_configure!\n  end\n\n  # Test assertions...\nend\n</code></pre>"},{"location":"development/testing/#testing-patterns","title":"Testing Patterns","text":""},{"location":"development/testing/#testing-configuration-classes","title":"Testing Configuration Classes","text":"<pre><code>def test_auto_configure_creates_attributes\n  config_class = Class.new(MywayConfig::Base) do\n    config_name :test_app\n    defaults_path File.expand_path('fixtures/test_defaults.yml', __dir__)\n    auto_configure!\n  end\n\n  config = config_class.new\n\n  assert_respond_to config, :database\n  assert_respond_to config, :log_level\nend\n</code></pre>"},{"location":"development/testing/#testing-configsection","title":"Testing ConfigSection","text":"<pre><code>def test_config_section_enumerable\n  section = MywayConfig::ConfigSection.new(a: 1, b: 2, c: 3)\n\n  result = section.map { |k, v| v }\n\n  assert_equal [1, 2, 3], result\nend\n</code></pre>"},{"location":"development/testing/#testing-environment-detection","title":"Testing Environment Detection","text":"<pre><code>def test_environment_detection\n  original = ENV['RACK_ENV']\n  ENV['RACK_ENV'] = 'production'\n\n  config_class = Class.new(MywayConfig::Base) do\n    config_name :env_test\n    defaults_path File.expand_path('fixtures/test_defaults.yml', __dir__)\n    auto_configure!\n  end\n\n  config = config_class.new\n\n  assert config.production?\n  refute config.development?\nensure\n  ENV['RACK_ENV'] = original\nend\n</code></pre>"},{"location":"development/testing/#testing-error-cases","title":"Testing Error Cases","text":"<pre><code>def test_raises_on_missing_defaults_file\n  assert_raises(MywayConfig::ConfigurationError) do\n    Class.new(MywayConfig::Base) do\n      config_name :missing\n      defaults_path '/nonexistent/path.yml'\n    end\n  end\nend\n</code></pre>"},{"location":"development/testing/#testing-with-overrides","title":"Testing with Overrides","text":"<pre><code>def test_hash_overrides_defaults\n  config_class = Class.new(MywayConfig::Base) do\n    config_name :override_test\n    defaults_path File.expand_path('fixtures/test_defaults.yml', __dir__)\n    auto_configure!\n  end\n\n  config = config_class.new(database: { host: 'custom-host' })\n\n  assert_equal 'custom-host', config.database.host\nend\n</code></pre>"},{"location":"development/testing/#continuous-integration","title":"Continuous Integration","text":"<p>Tests run automatically on GitHub Actions for:</p> <ul> <li>Ruby 3.2</li> <li>Ruby 3.3</li> <li>Ruby 3.4</li> </ul>"},{"location":"development/testing/#ci-configuration","title":"CI Configuration","text":"<pre><code># .github/workflows/ci.yml\nname: CI\n\non:\n  push:\n    branches: [main]\n  pull_request:\n    branches: [main]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    strategy:\n      fail-fast: false\n      matrix:\n        ruby-version: ['3.2', '3.3', '3.4']\n\n    steps:\n      - uses: actions/checkout@v4\n      - uses: ruby/setup-ruby@v1\n        with:\n          ruby-version: ${{ matrix.ruby-version }}\n          bundler-cache: true\n      - run: bundle exec rake test\n</code></pre>"},{"location":"development/testing/#best-practices","title":"Best Practices","text":"<ol> <li>Isolate tests - Each test should be independent</li> <li>Test edge cases - Empty values, nil, missing keys</li> <li>Test errors - Verify exceptions are raised correctly</li> <li>Use fixtures - Keep test data in YAML files</li> <li>Reset state - Clean up after tests that modify global state</li> <li>Descriptive names - Test names should explain what's being tested</li> </ol>"},{"location":"examples/","title":"Examples","text":"<p>Real-world examples of using MywayConfig in different contexts.</p>"},{"location":"examples/#examples_1","title":"Examples","text":""},{"location":"examples/#basic-usage","title":"Basic Usage","text":"<p>Simple configuration patterns for any Ruby application.</p> <ul> <li>Defining a configuration class</li> <li>Accessing configuration values</li> <li>Environment-specific settings</li> </ul>"},{"location":"examples/#standalone-application","title":"Standalone Application","text":"<p>Using MywayConfig in non-Rails Ruby applications.</p> <ul> <li>Setting up configuration for gems</li> <li>CLI applications</li> <li>Background workers</li> </ul>"},{"location":"examples/#rails-integration","title":"Rails Integration","text":"<p>Integrating MywayConfig with Rails applications.</p> <ul> <li>Initializer setup</li> <li>Environment detection</li> <li>Credentials integration</li> </ul>"},{"location":"examples/#quick-example","title":"Quick Example","text":"<pre><code># config/defaults.yml\n# defaults:\n#   database:\n#     host: localhost\n#     port: 5432\n\nclass MyApp::Config &lt; MywayConfig::Base\n  config_name :myapp\n  env_prefix  :myapp\n  defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\n  auto_configure!\nend\n\n# Access configuration\nconfig = MyApp::Config.new\nconfig.database.host  # =&gt; \"localhost\"\n</code></pre>"},{"location":"examples/#common-patterns","title":"Common Patterns","text":""},{"location":"examples/#singleton-access","title":"Singleton Access","text":"<pre><code>module MyApp\n  class &lt;&lt; self\n    def config\n      @config ||= Config.new\n    end\n\n    def reset_config!\n      @config = nil\n    end\n  end\nend\n\n# Usage\nMyApp.config.database.host\n</code></pre>"},{"location":"examples/#test-overrides","title":"Test Overrides","text":"<pre><code>def with_config(overrides, &amp;block)\n  original = MyApp.config\n  MyApp.instance_variable_set(:@config, MyApp::Config.new(overrides))\n  yield\nensure\n  MyApp.instance_variable_set(:@config, original)\nend\n\n# In tests\nwith_config(database: { host: \"test-db\" }) do\n  assert_equal \"test-db\", MyApp.config.database.host\nend\n</code></pre>"},{"location":"examples/#environment-detection","title":"Environment Detection","text":"<pre><code>config = MyApp::Config.new\n\nif config.production?\n  # Production-specific logic\nelsif config.development?\n  # Development-specific logic\nend\n</code></pre>"},{"location":"examples/basic-usage/","title":"Basic Usage","text":"<p>Step-by-step guide to using MywayConfig.</p>"},{"location":"examples/basic-usage/#step-1-create-the-defaults-file","title":"Step 1: Create the Defaults File","text":"<p>Create your configuration YAML file with a <code>defaults:</code> section:</p> <pre><code># config/defaults.yml\ndefaults:\n  database:\n    host: localhost\n    port: 5432\n    name: myapp_development\n    pool: 5\n\n  api:\n    base_url: https://api.example.com\n    timeout: 30\n    headers:\n      content_type: application/json\n\n  log_level: :info\n  debug: false\n\ndevelopment:\n  debug: true\n\nproduction:\n  database:\n    host: prod-db.example.com\n    pool: 20\n  log_level: :warn\n\ntest:\n  database:\n    name: myapp_test\n</code></pre>"},{"location":"examples/basic-usage/#step-2-define-the-configuration-class","title":"Step 2: Define the Configuration Class","text":"<pre><code># lib/myapp/config.rb\nrequire 'myway_config'\n\nmodule MyApp\n  class Config &lt; MywayConfig::Base\n    config_name :myapp\n    env_prefix  :myapp\n    defaults_path File.expand_path(\"../../config/defaults.yml\", __dir__)\n    auto_configure!\n  end\nend\n</code></pre>"},{"location":"examples/basic-usage/#step-3-access-configuration","title":"Step 3: Access Configuration","text":""},{"location":"examples/basic-usage/#basic-access","title":"Basic Access","text":"<pre><code>config = MyApp::Config.new\n\n# Top-level values\nconfig.log_level  # =&gt; :info\nconfig.debug      # =&gt; false\n\n# Nested values\nconfig.database.host  # =&gt; \"localhost\"\nconfig.database.port  # =&gt; 5432\nconfig.api.timeout    # =&gt; 30\n</code></pre>"},{"location":"examples/basic-usage/#environment-methods","title":"Environment Methods","text":"<pre><code>config.environment    # =&gt; \"development\"\nconfig.development?   # =&gt; true\nconfig.production?    # =&gt; false\nconfig.test?          # =&gt; false\n</code></pre>"},{"location":"examples/basic-usage/#multiple-access-styles","title":"Multiple Access Styles","text":"<pre><code># All equivalent\nconfig.database.host        # Method syntax\nconfig.database[:host]      # Symbol bracket\nconfig.database[\"host\"]     # String bracket\n</code></pre>"},{"location":"examples/basic-usage/#step-4-override-with-environment-variables","title":"Step 4: Override with Environment Variables","text":"<pre><code># Override database host\nMYAPP_DATABASE__HOST=custom-db.local ruby app.rb\n\n# Override log level\nMYAPP_LOG_LEVEL=debug ruby app.rb\n\n# Multiple overrides\nMYAPP_DATABASE__HOST=prod-db.local MYAPP_DATABASE__PORT=5433 ruby app.rb\n</code></pre>"},{"location":"examples/basic-usage/#step-5-singleton-pattern-recommended","title":"Step 5: Singleton Pattern (Recommended)","text":"<p>Create a module-level accessor:</p> <pre><code># lib/myapp.rb\nrequire_relative 'myapp/config'\n\nmodule MyApp\n  class &lt;&lt; self\n    def config\n      @config ||= Config.new\n    end\n\n    def reset_config!\n      @config = nil\n    end\n  end\nend\n</code></pre> <p>Usage:</p> <pre><code>require 'myapp'\n\nMyApp.config.database.host\nMyApp.config.api.base_url\n</code></pre>"},{"location":"examples/basic-usage/#complete-example","title":"Complete Example","text":"<pre><code>#!/usr/bin/env ruby\nrequire 'myway_config'\n\nmodule MyApp\n  class Config &lt; MywayConfig::Base\n    config_name :myapp\n    env_prefix  :myapp\n    defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\n    auto_configure!\n  end\n\n  class &lt;&lt; self\n    def config\n      @config ||= Config.new\n    end\n  end\nend\n\n# Use the configuration\nconfig = MyApp.config\n\nputs \"Environment: #{config.environment}\"\nputs \"Database: #{config.database.host}:#{config.database.port}\"\nputs \"Debug mode: #{config.debug}\"\n\n# Hash-like iteration\nconfig.database.each do |key, value|\n  puts \"  #{key}: #{value}\"\nend\n</code></pre>"},{"location":"examples/basic-usage/#next-steps","title":"Next Steps","text":"<ul> <li>Standalone Application - Configuration for gems and CLI apps</li> <li>Rails Integration - Using with Rails</li> </ul>"},{"location":"examples/rails-integration/","title":"Rails Integration","text":"<p>Using MywayConfig in Rails applications.</p>"},{"location":"examples/rails-integration/#setup","title":"Setup","text":""},{"location":"examples/rails-integration/#gemfile","title":"Gemfile","text":"<pre><code>gem 'myway_config'\n</code></pre>"},{"location":"examples/rails-integration/#configuration-class","title":"Configuration Class","text":"<pre><code># app/config/my_app_config.rb\n# or lib/my_app/config.rb\n\nclass MyAppConfig &lt; MywayConfig::Base\n  config_name :myapp\n  env_prefix  :myapp\n  defaults_path Rails.root.join(\"config/myapp_defaults.yml\").to_s\n  auto_configure!\nend\n</code></pre>"},{"location":"examples/rails-integration/#defaults-file","title":"Defaults File","text":"<pre><code># config/myapp_defaults.yml\ndefaults:\n  feature_flags:\n    new_checkout: false\n    dark_mode: true\n\n  external_api:\n    base_url: https://api.example.com\n    timeout: 30\n    api_key: null  # Set via environment variable\n\n  cache:\n    ttl: 3600\n    namespace: myapp\n\ndevelopment:\n  feature_flags:\n    new_checkout: true\n  cache:\n    ttl: 60\n\nproduction:\n  external_api:\n    timeout: 10\n  cache:\n    ttl: 86400\n\ntest:\n  cache:\n    ttl: 0\n</code></pre>"},{"location":"examples/rails-integration/#initializer","title":"Initializer","text":"<pre><code># config/initializers/myapp_config.rb\n\nRails.application.config.myapp = MyAppConfig.new\n\n# Convenience method\ndef MyApp\n  Rails.application.config.myapp\nend\n</code></pre>"},{"location":"examples/rails-integration/#usage-in-rails","title":"Usage in Rails","text":""},{"location":"examples/rails-integration/#controllers","title":"Controllers","text":"<pre><code>class CheckoutsController &lt; ApplicationController\n  def new\n    if MyApp.feature_flags.new_checkout\n      render :new_checkout\n    else\n      render :legacy_checkout\n    end\n  end\nend\n</code></pre>"},{"location":"examples/rails-integration/#models","title":"Models","text":"<pre><code>class Order &lt; ApplicationRecord\n  def sync_to_external_api\n    client = ExternalApi::Client.new(\n      base_url: MyApp.external_api.base_url,\n      timeout: MyApp.external_api.timeout,\n      api_key: MyApp.external_api.api_key\n    )\n    client.create_order(self)\n  end\nend\n</code></pre>"},{"location":"examples/rails-integration/#views","title":"Views","text":"<pre><code>&lt;% if MyApp.feature_flags.dark_mode %&gt;\n  &lt;%= stylesheet_link_tag \"dark_mode\" %&gt;\n&lt;% end %&gt;\n</code></pre>"},{"location":"examples/rails-integration/#jobs","title":"Jobs","text":"<pre><code>class SyncJob &lt; ApplicationJob\n  def perform(record_id)\n    timeout = MyApp.external_api.timeout\n\n    Timeout.timeout(timeout) do\n      # Sync logic\n    end\n  end\nend\n</code></pre>"},{"location":"examples/rails-integration/#environment-detection","title":"Environment Detection","text":"<p>MywayConfig automatically detects the Rails environment:</p> <pre><code>config = MyAppConfig.new\n\nconfig.environment    # =&gt; \"development\" (from RAILS_ENV)\nconfig.development?   # =&gt; true\nconfig.production?    # =&gt; false\nconfig.test?          # =&gt; false\n</code></pre>"},{"location":"examples/rails-integration/#credentials-integration","title":"Credentials Integration","text":"<p>Combine with Rails credentials for secrets:</p> <pre><code># config/myapp_defaults.yml\ndefaults:\n  external_api:\n    base_url: https://api.example.com\n    api_key: null  # Loaded from credentials\n</code></pre> <pre><code># config/initializers/myapp_config.rb\n\nconfig = MyAppConfig.new\n\n# Override API key from credentials\nif Rails.application.credentials.dig(:external_api, :api_key)\n  config.external_api.api_key = Rails.application.credentials.external_api.api_key\nend\n\nRails.application.config.myapp = config\n</code></pre> <p>Or use environment variables:</p> <pre><code># In production\nMYAPP_EXTERNAL_API__API_KEY=your_secret_key\n</code></pre>"},{"location":"examples/rails-integration/#testing","title":"Testing","text":""},{"location":"examples/rails-integration/#rspec","title":"RSpec","text":"<pre><code># spec/support/config_helpers.rb\nmodule ConfigHelpers\n  def with_config(overrides)\n    original = Rails.application.config.myapp\n    Rails.application.config.myapp = MyAppConfig.new(overrides)\n    yield\n  ensure\n    Rails.application.config.myapp = original\n  end\nend\n\nRSpec.configure do |config|\n  config.include ConfigHelpers\nend\n</code></pre> <pre><code># spec/models/order_spec.rb\nRSpec.describe Order do\n  describe \"#sync_to_external_api\" do\n    it \"uses configured timeout\" do\n      with_config(external_api: { timeout: 5 }) do\n        # Test with 5 second timeout\n      end\n    end\n  end\nend\n</code></pre>"},{"location":"examples/rails-integration/#minitest","title":"Minitest","text":"<pre><code># test/test_helper.rb\nclass ActiveSupport::TestCase\n  def with_config(overrides, &amp;block)\n    original = Rails.application.config.myapp\n    Rails.application.config.myapp = MyAppConfig.new(overrides)\n    yield\n  ensure\n    Rails.application.config.myapp = original\n  end\nend\n</code></pre>"},{"location":"examples/rails-integration/#multiple-configurations","title":"Multiple Configurations","text":"<p>For complex applications:</p> <pre><code># config/initializers/configs.rb\n\nRails.application.config.features = FeaturesConfig.new\nRails.application.config.integrations = IntegrationsConfig.new\nRails.application.config.limits = LimitsConfig.new\n\n# Convenience methods\ndef Features; Rails.application.config.features; end\ndef Integrations; Rails.application.config.integrations; end\ndef Limits; Rails.application.config.limits; end\n</code></pre>"},{"location":"examples/rails-integration/#best-practices","title":"Best Practices","text":""},{"location":"examples/rails-integration/#1-keep-secrets-out-of-yaml","title":"1. Keep Secrets Out of YAML","text":"<pre><code># Bad - secrets in YAML\ndefaults:\n  api_key: sk_live_abc123\n\n# Good - use null placeholder\ndefaults:\n  api_key: null\n</code></pre> <p>Set secrets via environment variables:</p> <pre><code>MYAPP_API_KEY=sk_live_abc123\n</code></pre>"},{"location":"examples/rails-integration/#2-use-environment-specific-overrides","title":"2. Use Environment-Specific Overrides","text":"<pre><code>defaults:\n  cache_ttl: 3600\n\ndevelopment:\n  cache_ttl: 60  # Short TTL for development\n\ntest:\n  cache_ttl: 0   # No caching in tests\n</code></pre>"},{"location":"examples/rails-integration/#3-validate-in-initializer","title":"3. Validate in Initializer","text":"<pre><code># config/initializers/myapp_config.rb\n\nconfig = MyAppConfig.new\n\n# Validate required values\nif config.production? &amp;&amp; config.external_api.api_key.nil?\n  raise \"MYAPP_EXTERNAL_API__API_KEY must be set in production\"\nend\n\nRails.application.config.myapp = config\n</code></pre>"},{"location":"examples/rails-integration/#4-document-configuration","title":"4. Document Configuration","text":"<pre><code># config/myapp_defaults.yml\n\n# Feature Flags\n# Control feature rollout without deploys\ndefaults:\n  feature_flags:\n    # Enable new checkout flow (default: disabled)\n    new_checkout: false\n\n    # Enable dark mode theme (default: enabled)\n    dark_mode: true\n</code></pre>"},{"location":"examples/standalone-app/","title":"Standalone Application","text":"<p>Using MywayConfig in non-Rails Ruby applications like gems, CLI tools, and background workers.</p>"},{"location":"examples/standalone-app/#ruby-gem","title":"Ruby Gem","text":""},{"location":"examples/standalone-app/#directory-structure","title":"Directory Structure","text":"<pre><code>my_gem/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 my_gem.rb\n\u2502   \u2514\u2500\u2500 my_gem/\n\u2502       \u251c\u2500\u2500 config.rb\n\u2502       \u2514\u2500\u2500 config/\n\u2502           \u2514\u2500\u2500 defaults.yml\n\u251c\u2500\u2500 my_gem.gemspec\n\u2514\u2500\u2500 Gemfile\n</code></pre>"},{"location":"examples/standalone-app/#configuration-class","title":"Configuration Class","text":"<pre><code># lib/my_gem/config.rb\nrequire 'myway_config'\n\nmodule MyGem\n  class Config &lt; MywayConfig::Base\n    config_name :my_gem\n    env_prefix  :my_gem\n    defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\n    auto_configure!\n  end\nend\n</code></pre>"},{"location":"examples/standalone-app/#defaults-file","title":"Defaults File","text":"<pre><code># lib/my_gem/config/defaults.yml\ndefaults:\n  api:\n    base_url: https://api.service.com\n    timeout: 30\n    retries: 3\n\n  cache:\n    enabled: true\n    ttl: 3600\n\n  log_level: :info\n</code></pre>"},{"location":"examples/standalone-app/#main-module","title":"Main Module","text":"<pre><code># lib/my_gem.rb\nrequire_relative 'my_gem/config'\n\nmodule MyGem\n  class &lt;&lt; self\n    def config\n      @config ||= Config.new\n    end\n\n    def configure\n      yield config if block_given?\n    end\n\n    def reset_config!\n      @config = nil\n    end\n  end\nend\n</code></pre>"},{"location":"examples/standalone-app/#usage","title":"Usage","text":"<pre><code>require 'my_gem'\n\n# Default configuration\nMyGem.config.api.base_url  # =&gt; \"https://api.service.com\"\n\n# Environment variable override\n# MY_GEM_API__TIMEOUT=60 ruby app.rb\nMyGem.config.api.timeout   # =&gt; 60\n\n# XDG user config (~/.config/my_gem/my_gem.yml)\n# Automatically loaded if present\n</code></pre>"},{"location":"examples/standalone-app/#cli-application","title":"CLI Application","text":""},{"location":"examples/standalone-app/#using-thor","title":"Using Thor","text":"<pre><code>#!/usr/bin/env ruby\nrequire 'thor'\nrequire 'myway_config'\n\nmodule MyCLI\n  class Config &lt; MywayConfig::Base\n    config_name :mycli\n    env_prefix  :mycli\n    defaults_path File.expand_path(\"../config/defaults.yml\", __dir__)\n    auto_configure!\n  end\n\n  class &lt;&lt; self\n    def config\n      @config ||= Config.new\n    end\n  end\n\n  class CLI &lt; Thor\n    desc \"status\", \"Show current configuration\"\n    def status\n      puts \"API URL: #{MyCLI.config.api.base_url}\"\n      puts \"Timeout: #{MyCLI.config.api.timeout}s\"\n    end\n\n    desc \"run\", \"Run the main task\"\n    option :verbose, type: :boolean, default: false\n    def run\n      config = MyCLI.config\n\n      if config.debug || options[:verbose]\n        puts \"Debug mode enabled\"\n      end\n\n      # Your application logic\n    end\n  end\nend\n\nMyCLI::CLI.start(ARGV)\n</code></pre>"},{"location":"examples/standalone-app/#custom-config-file","title":"Custom Config File","text":"<pre><code>class CLI &lt; Thor\n  class_option :config, type: :string, desc: \"Path to config file\"\n\n  desc \"run\", \"Run with optional custom config\"\n  def run\n    config = if options[:config]\n               MyCLI::Config.new(options[:config])\n             else\n               MyCLI.config\n             end\n\n    # Use config...\n  end\nend\n</code></pre>"},{"location":"examples/standalone-app/#background-worker","title":"Background Worker","text":""},{"location":"examples/standalone-app/#sidekiq-example","title":"Sidekiq Example","text":"<pre><code># config/initializers/sidekiq.rb\nrequire 'myway_config'\n\nmodule MyWorker\n  class Config &lt; MywayConfig::Base\n    config_name :my_worker\n    env_prefix  :my_worker\n    defaults_path File.expand_path(\"../../config/defaults.yml\", __dir__)\n    auto_configure!\n  end\n\n  class &lt;&lt; self\n    def config\n      @config ||= Config.new\n    end\n  end\nend\n\nSidekiq.configure_server do |config|\n  config.redis = {\n    url: MyWorker.config.redis.url,\n    pool_size: MyWorker.config.redis.pool_size\n  }\nend\n</code></pre>"},{"location":"examples/standalone-app/#worker-class","title":"Worker Class","text":"<pre><code>class ProcessingWorker\n  include Sidekiq::Worker\n\n  def perform(item_id)\n    config = MyWorker.config\n\n    timeout = config.processing.timeout\n    retries = config.processing.retries\n\n    # Process with configured settings\n  end\nend\n</code></pre>"},{"location":"examples/standalone-app/#multiple-configurations","title":"Multiple Configurations","text":"<p>For applications with multiple configuration concerns:</p> <pre><code>module MyApp\n  class DatabaseConfig &lt; MywayConfig::Base\n    config_name :database\n    env_prefix  :myapp_db\n    defaults_path File.expand_path(\"config/database.yml\", __dir__)\n    auto_configure!\n  end\n\n  class ApiConfig &lt; MywayConfig::Base\n    config_name :api\n    env_prefix  :myapp_api\n    defaults_path File.expand_path(\"config/api.yml\", __dir__)\n    auto_configure!\n  end\n\n  class &lt;&lt; self\n    def database_config\n      @database_config ||= DatabaseConfig.new\n    end\n\n    def api_config\n      @api_config ||= ApiConfig.new\n    end\n  end\nend\n\n# Usage\nMyApp.database_config.host\nMyApp.api_config.timeout\n</code></pre>"},{"location":"examples/standalone-app/#testing-configuration","title":"Testing Configuration","text":"<pre><code># test/test_helper.rb\nrequire 'minitest/autorun'\nrequire 'my_gem'\n\nmodule TestHelpers\n  def with_config(overrides, &amp;block)\n    original = MyGem.instance_variable_get(:@config)\n    MyGem.instance_variable_set(:@config, MyGem::Config.new(overrides))\n    yield\n  ensure\n    MyGem.instance_variable_set(:@config, original)\n  end\nend\n\nclass MyTest &lt; Minitest::Test\n  include TestHelpers\n\n  def test_with_custom_config\n    with_config(api: { timeout: 5 }) do\n      assert_equal 5, MyGem.config.api.timeout\n    end\n  end\nend\n</code></pre>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Welcome to MywayConfig! This section will help you get up and running quickly.</p>"},{"location":"getting-started/#what-is-mywayconfig","title":"What is MywayConfig?","text":"<p>MywayConfig is a configuration management library for Ruby applications that extends anyway_config with additional features:</p> <ul> <li>YAML as the single source of truth - Define your config structure once</li> <li>Auto-configuration - No need to manually declare attributes</li> <li>Environment-aware - Automatic environment-based overrides</li> <li>XDG compliance - Respects standard config locations</li> <li>Hash-like access - Multiple ways to access your config values</li> </ul>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Ruby 3.2 or higher</li> <li>Bundler (recommended)</li> </ul>"},{"location":"getting-started/#in-this-section","title":"In This Section","text":"<ul> <li>Installation - How to install the gem</li> <li>Quick Start - Create your first configuration in 5 minutes</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#using-bundler-recommended","title":"Using Bundler (Recommended)","text":"<p>Add MywayConfig to your application's Gemfile:</p> <pre><code>gem \"myway_config\"\n</code></pre> <p>Then run:</p> <pre><code>bundle install\n</code></pre>"},{"location":"getting-started/installation/#manual-installation","title":"Manual Installation","text":"<p>If you're not using Bundler, install the gem directly:</p> <pre><code>gem install myway_config\n</code></pre> <p>Then require it in your code:</p> <pre><code>require \"myway_config\"\n</code></pre>"},{"location":"getting-started/installation/#dependencies","title":"Dependencies","text":"<p>MywayConfig depends on:</p> <ul> <li>anyway_config (&gt;= 2.0) - The underlying configuration framework</li> </ul> <p>These dependencies are automatically installed when you install the gem.</p>"},{"location":"getting-started/installation/#verifying-installation","title":"Verifying Installation","text":"<p>You can verify the installation by checking the version:</p> <pre><code>require \"myway_config\"\nputs MywayConfig::VERSION\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Now that you have MywayConfig installed, head to the Quick Start guide to create your first configuration.</p>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>This guide will walk you through creating your first MywayConfig configuration in 5 minutes.</p>"},{"location":"getting-started/quick-start/#step-1-create-your-defaults-file","title":"Step 1: Create Your Defaults File","text":"<p>The YAML file is the single source of truth for your configuration structure and default values.</p> <p>Create <code>lib/myapp/config/defaults.yml</code>:</p> <pre><code>defaults:\n  database:\n    host: localhost\n    port: 5432\n    name: myapp_db\n    pool: 5\n  api:\n    base_url: https://api.example.com\n    timeout: 30\n  log_level: :info\n  debug: false\n\ndevelopment:\n  database:\n    name: myapp_development\n  log_level: :debug\n  debug: true\n\nproduction:\n  database:\n    host: prod-db.example.com\n    pool: 25\n  log_level: :warn\n\ntest:\n  database:\n    name: myapp_test\n  log_level: :debug\n</code></pre>"},{"location":"getting-started/quick-start/#step-2-define-your-config-class","title":"Step 2: Define Your Config Class","text":"<p>Create <code>lib/myapp/config.rb</code>:</p> <pre><code>require \"myway_config\"\n\nmodule MyApp\n  class Config &lt; MywayConfig::Base\n    config_name :myapp\n    env_prefix  :myapp\n    defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\n    auto_configure!\n  end\n\n  class &lt;&lt; self\n    def config\n      @config ||= Config.new\n    end\n\n    def reset_config!\n      @config = nil\n    end\n  end\nend\n</code></pre> <p>That's it! The <code>auto_configure!</code> method reads your YAML and sets up everything automatically.</p>"},{"location":"getting-started/quick-start/#step-3-use-your-configuration","title":"Step 3: Use Your Configuration","text":"<pre><code>require \"myapp/config\"\n\n# Access nested values with method syntax\nMyApp.config.database.host      # =&gt; \"localhost\"\nMyApp.config.database.port      # =&gt; 5432\nMyApp.config.api.timeout        # =&gt; 30\nMyApp.config.log_level          # =&gt; :info\n\n# Environment helpers\nMyApp.config.development?       # =&gt; true (when RACK_ENV=development)\nMyApp.config.production?        # =&gt; false\nMyApp.config.environment        # =&gt; \"development\"\n</code></pre>"},{"location":"getting-started/quick-start/#step-4-override-with-environment-variables","title":"Step 4: Override with Environment Variables","text":"<p>You can override any value using environment variables:</p> <pre><code># Scalar values\nexport MYAPP_LOG_LEVEL=warn\n\n# Nested values (use double underscore)\nexport MYAPP_DATABASE__HOST=custom-db.local\nexport MYAPP_DATABASE__PORT=5433\n\n# Run your app\nruby myapp.rb\n</code></pre>"},{"location":"getting-started/quick-start/#whats-next","title":"What's Next?","text":"<ul> <li>Defining Configuration - Learn about config class options</li> <li>YAML Structure - Understand the YAML file format</li> <li>Accessing Values - All the ways to access config</li> <li>Examples - Real-world usage examples</li> </ul>"},{"location":"guides/","title":"Guides","text":"<p>These guides cover MywayConfig features in depth.</p>"},{"location":"guides/#core-concepts","title":"Core Concepts","text":"<ul> <li>Defining Configuration - How to create config classes</li> <li>YAML Structure - Understanding the defaults file format</li> <li>Accessing Values - All the ways to read configuration</li> </ul>"},{"location":"guides/#advanced-topics","title":"Advanced Topics","text":"<ul> <li>Environment Overrides - Using environment variables</li> <li>Custom File Loading - Loading from non-standard locations</li> <li>Hash-like Behavior - Using ConfigSection as a Hash</li> </ul>"},{"location":"guides/accessing-values/","title":"Accessing Values","text":"<p>MywayConfig provides multiple ways to access configuration values.</p>"},{"location":"guides/accessing-values/#method-access","title":"Method Access","text":"<p>The most common way to access values:</p> <pre><code>config.database.host      # =&gt; \"localhost\"\nconfig.database.port      # =&gt; 5432\nconfig.api.base_url       # =&gt; \"https://api.example.com\"\nconfig.log_level          # =&gt; :info\n</code></pre> <p>Nested access works naturally:</p> <pre><code>config.api.headers.content_type  # =&gt; \"application/json\"\n</code></pre>"},{"location":"guides/accessing-values/#bracket-access","title":"Bracket Access","text":"<p>Use symbol or string keys:</p> <pre><code># Symbol keys\nconfig.database[:host]    # =&gt; \"localhost\"\nconfig.database[:port]    # =&gt; 5432\n\n# String keys\nconfig.database[\"host\"]   # =&gt; \"localhost\"\nconfig.database[\"port\"]   # =&gt; 5432\n</code></pre>"},{"location":"guides/accessing-values/#all-access-patterns","title":"All Access Patterns","text":"<p>These are all equivalent:</p> <pre><code>config.database.host      # Method syntax\nconfig.database[:host]    # Symbol bracket\nconfig.database[\"host\"]   # String bracket\n</code></pre>"},{"location":"guides/accessing-values/#hash-like-methods","title":"Hash-like Methods","text":"<p>ConfigSection provides Hash-like methods:</p> <pre><code># Keys and values\nconfig.database.keys      # =&gt; [:host, :port, :name, :pool]\nconfig.database.values    # =&gt; [\"localhost\", 5432, \"myapp_db\", 5]\nconfig.database.size      # =&gt; 4\nconfig.database.length    # =&gt; 4 (alias)\n\n# Check for keys\nconfig.database.key?(:host)     # =&gt; true\nconfig.database.has_key?(:host) # =&gt; true (alias)\nconfig.database.include?(:host) # =&gt; true (alias)\n\n# Empty check\nconfig.database.empty?    # =&gt; false\n</code></pre>"},{"location":"guides/accessing-values/#fetch-with-default","title":"Fetch with Default","text":"<p>Use <code>fetch</code> for safe access with defaults:</p> <pre><code># Returns value if key exists\nconfig.database.fetch(:host)  # =&gt; \"localhost\"\n\n# Returns default if key missing\nconfig.database.fetch(:missing, \"default\")  # =&gt; \"default\"\n\n# Block form\nconfig.database.fetch(:missing) { \"computed\" }  # =&gt; \"computed\"\n\n# Raises KeyError if no default\nconfig.database.fetch(:missing)  # =&gt; KeyError!\n</code></pre>"},{"location":"guides/accessing-values/#dig-for-nested-access","title":"Dig for Nested Access","text":"<p>Use <code>dig</code> to safely access deeply nested values:</p> <pre><code>config.api.dig(:headers, :content_type)  # =&gt; \"application/json\"\nconfig.api.dig(:headers, :missing)       # =&gt; nil (no error)\nconfig.api.dig(:missing, :nested)        # =&gt; nil (no error)\n</code></pre>"},{"location":"guides/accessing-values/#convert-to-hash","title":"Convert to Hash","text":"<p>Convert any section to a plain Ruby Hash:</p> <pre><code>config.database.to_h\n# =&gt; {host: \"localhost\", port: 5432, name: \"myapp_db\", pool: 5}\n</code></pre> <p>Nested sections are also converted:</p> <pre><code>config.api.to_h\n# =&gt; {\n#      base_url: \"https://api.example.com\",\n#      timeout: 30,\n#      headers: {content_type: \"application/json\"}\n#    }\n</code></pre>"},{"location":"guides/accessing-values/#enumerable-methods","title":"Enumerable Methods","text":"<p>ConfigSection includes <code>Enumerable</code>:</p> <pre><code># Iterate over key-value pairs\nconfig.database.each do |key, value|\n  puts \"#{key}: #{value}\"\nend\n\n# Map\nconfig.database.map { |k, v| \"#{k}=#{v}\" }\n# =&gt; [\"host=localhost\", \"port=5432\", ...]\n\n# Select\nconfig.database.select { |k, v| v.is_a?(Integer) }\n# =&gt; [[:port, 5432], [:pool, 5]]\n\n# Find\nconfig.database.find { |k, v| v == 5432 }\n# =&gt; [:port, 5432]\n\n# Any/all\nconfig.database.any? { |k, v| v.nil? }  # =&gt; false\nconfig.database.all? { |k, v| v }       # =&gt; true\n</code></pre>"},{"location":"guides/accessing-values/#missing-keys","title":"Missing Keys","text":"<p>Accessing a missing key returns <code>nil</code>:</p> <pre><code>config.database.missing_key  # =&gt; nil\nconfig.database[:missing]    # =&gt; nil\n</code></pre>"},{"location":"guides/accessing-values/#next-steps","title":"Next Steps","text":"<ul> <li>Environment Overrides - Override values with env vars</li> <li>Hash-like Behavior - Deep dive into ConfigSection</li> </ul>"},{"location":"guides/custom-file-loading/","title":"Custom File Loading","text":"<p>Load configuration from non-standard locations or pass configuration directly.</p>"},{"location":"guides/custom-file-loading/#loading-from-a-file-path","title":"Loading from a File Path","text":"<p>Pass a file path (String or Pathname) to the constructor:</p> <pre><code># From a String path\nconfig = MyApp::Config.new(\"/etc/myapp/config.yml\")\n\n# From a Pathname\nconfig = MyApp::Config.new(Pathname.new(\"/etc/myapp/config.yml\"))\n</code></pre>"},{"location":"guides/custom-file-loading/#file-format","title":"File Format","text":"<p>The file can be a flat configuration:</p> <pre><code># /etc/myapp/config.yml (flat format)\ndatabase:\n  host: custom-db.example.com\n  port: 5432\nlog_level: :warn\n</code></pre> <p>Or include environment sections:</p> <pre><code># /etc/myapp/config.yml (with environments)\ndefaults:\n  database:\n    host: localhost\n    port: 5432\n  log_level: :info\n\nproduction:\n  database:\n    host: prod-db.example.com\n  log_level: :warn\n</code></pre>"},{"location":"guides/custom-file-loading/#environment-detection","title":"Environment Detection","text":"<p>When loading from a file with environment sections, the current environment (<code>RACK_ENV</code>/<code>RAILS_ENV</code>) determines which overrides are applied:</p> <pre><code># Uses production overrides from the file\nRACK_ENV=production ruby -e \"config = MyApp::Config.new('/etc/myapp/config.yml')\"\n</code></pre>"},{"location":"guides/custom-file-loading/#loading-from-a-hash","title":"Loading from a Hash","text":"<p>Pass configuration directly as a Hash:</p> <pre><code>config = MyApp::Config.new(\n  database: {\n    host: \"custom.local\",\n    port: 5433\n  },\n  log_level: :debug\n)\n</code></pre> <p>Hash values override defaults:</p> <pre><code>config.database.host   # =&gt; \"custom.local\" (from Hash)\nconfig.database.port   # =&gt; 5433 (from Hash)\nconfig.database.name   # =&gt; \"myapp_db\" (from defaults)\n</code></pre>"},{"location":"guides/custom-file-loading/#constructor-signatures","title":"Constructor Signatures","text":"<p>The constructor accepts three types:</p> <pre><code># nil - use normal loading (defaults + loaders + env vars)\nconfig = MyApp::Config.new\n\n# String or Pathname - load from file\nconfig = MyApp::Config.new(\"/path/to/config.yml\")\n\n# Hash - use as overrides\nconfig = MyApp::Config.new(database: { host: \"custom\" })\n</code></pre>"},{"location":"guides/custom-file-loading/#use-cases","title":"Use Cases","text":""},{"location":"guides/custom-file-loading/#external-configuration","title":"External Configuration","text":"<p>Load configuration from a system-wide location:</p> <pre><code>config_path = if File.exist?(\"/etc/myapp/config.yml\")\n                \"/etc/myapp/config.yml\"\n              else\n                nil  # Fall back to defaults\n              end\n\nconfig = MyApp::Config.new(config_path)\n</code></pre>"},{"location":"guides/custom-file-loading/#testing","title":"Testing","text":"<p>Override configuration in tests:</p> <pre><code># test/test_helper.rb\ndef with_config(overrides, &amp;block)\n  original = MyApp.config\n  MyApp.instance_variable_set(:@config, MyApp::Config.new(overrides))\n  yield\nensure\n  MyApp.instance_variable_set(:@config, original)\nend\n\n# In tests\ndef test_something\n  with_config(database: { host: \"test-db\" }) do\n    assert_equal \"test-db\", MyApp.config.database.host\n  end\nend\n</code></pre>"},{"location":"guides/custom-file-loading/#dynamic-configuration","title":"Dynamic Configuration","text":"<p>Load configuration based on runtime conditions:</p> <pre><code>config_file = case\n              when ENV[\"CUSTOM_CONFIG\"]\n                ENV[\"CUSTOM_CONFIG\"]\n              when File.exist?(\"config/local.yml\")\n                \"config/local.yml\"\n              else\n                nil\n              end\n\nconfig = MyApp::Config.new(config_file)\n</code></pre>"},{"location":"guides/custom-file-loading/#error-handling","title":"Error Handling","text":"<p>A <code>ConfigurationError</code> is raised if the file doesn't exist:</p> <pre><code>begin\n  config = MyApp::Config.new(\"/nonexistent/path.yml\")\nrescue MywayConfig::ConfigurationError =&gt; e\n  puts \"Config file not found: #{e.message}\"\nend\n</code></pre>"},{"location":"guides/custom-file-loading/#next-steps","title":"Next Steps","text":"<ul> <li>Hash-like Behavior - ConfigSection features</li> <li>Examples - Real-world usage examples</li> </ul>"},{"location":"guides/defining-configuration/","title":"Defining Configuration","text":"<p>This guide explains how to create and configure your config class.</p>"},{"location":"guides/defining-configuration/#basic-definition","title":"Basic Definition","text":"<p>The minimal config class requires four things:</p> <pre><code>class MyApp::Config &lt; MywayConfig::Base\n  config_name :myapp           # Used for file names and loader registration\n  env_prefix  :myapp           # Prefix for environment variables\n  defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\n  auto_configure!              # Auto-generate attributes from YAML\nend\n</code></pre>"},{"location":"guides/defining-configuration/#class-methods","title":"Class Methods","text":""},{"location":"guides/defining-configuration/#config_name","title":"<code>config_name</code>","text":"<p>Sets the configuration name used for:</p> <ul> <li>Finding config files (<code>config/myapp.yml</code>)</li> <li>XDG config path (<code>~/.config/myapp/config.yml</code>)</li> <li>Loader registration</li> </ul> <pre><code>config_name :myapp\n</code></pre>"},{"location":"guides/defining-configuration/#env_prefix","title":"<code>env_prefix</code>","text":"<p>Sets the prefix for environment variables:</p> <pre><code>env_prefix :myapp\n# Allows: MYAPP_DATABASE__HOST, MYAPP_LOG_LEVEL, etc.\n</code></pre>"},{"location":"guides/defining-configuration/#defaults_path","title":"<code>defaults_path</code>","text":"<p>Registers the path to your defaults YAML file:</p> <pre><code>defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\n</code></pre> <p>File Must Exist</p> <p>The defaults file must exist when the class is loaded. A <code>ConfigurationError</code> is raised if the file is not found.</p>"},{"location":"guides/defining-configuration/#auto_configure","title":"<code>auto_configure!</code>","text":"<p>Automatically generates <code>attr_config</code> declarations and type coercions from your YAML schema:</p> <pre><code>auto_configure!\n</code></pre> <p>This method:</p> <ul> <li>Creates an attribute for each key in the <code>defaults:</code> section</li> <li>Coerces Hash values to <code>ConfigSection</code> objects</li> <li>Coerces Symbol values to symbols</li> </ul>"},{"location":"guides/defining-configuration/#manual-configuration","title":"Manual Configuration","text":"<p>For custom coercions or special handling, configure manually:</p> <pre><code>class MyApp::Config &lt; MywayConfig::Base\n  config_name :myapp\n  env_prefix  :myapp\n  defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\n\n  # Manually declare attributes\n  attr_config :database, :api, :log_level\n\n  # Custom coercions\n  coerce_types(\n    database: config_section_coercion(:database),\n    api: config_section_coercion(:api),\n    log_level: -&gt;(v) { v.to_s.upcase.to_sym }  # Custom: uppercase symbols\n  )\nend\n</code></pre>"},{"location":"guides/defining-configuration/#singleton-pattern","title":"Singleton Pattern","text":"<p>It's common to provide a singleton accessor:</p> <pre><code>module MyApp\n  class Config &lt; MywayConfig::Base\n    config_name :myapp\n    env_prefix  :myapp\n    defaults_path File.expand_path(\"config/defaults.yml\", __dir__)\n    auto_configure!\n  end\n\n  class &lt;&lt; self\n    def config\n      @config ||= Config.new\n    end\n\n    def reset_config!\n      @config = nil\n    end\n  end\nend\n\n# Usage\nMyApp.config.database.host\n</code></pre>"},{"location":"guides/defining-configuration/#instance-methods","title":"Instance Methods","text":"<p>All config instances have these helper methods:</p> <pre><code>config = MyApp::Config.new\n\nconfig.environment        # =&gt; \"development\"\nconfig.development?       # =&gt; true\nconfig.production?        # =&gt; false\nconfig.test?              # =&gt; false\nconfig.valid_environment? # =&gt; true (if environment exists in YAML)\n</code></pre>"},{"location":"guides/defining-configuration/#next-steps","title":"Next Steps","text":"<ul> <li>YAML Structure - Learn about the defaults file format</li> <li>Accessing Values - How to read configuration values</li> </ul>"},{"location":"guides/environment-overrides/","title":"Environment Overrides","text":"<p>Override any configuration value using environment variables.</p>"},{"location":"guides/environment-overrides/#basic-syntax","title":"Basic Syntax","text":"<p>Environment variables use the pattern:</p> <pre><code>{PREFIX}_{KEY}=value\n</code></pre> <p>For your config:</p> <pre><code>class MyApp::Config &lt; MywayConfig::Base\n  config_name :myapp\n  env_prefix  :myapp  # This sets the prefix\n  # ...\nend\n</code></pre> <p>Override values:</p> <pre><code>MYAPP_LOG_LEVEL=warn\nMYAPP_DEBUG=true\nMYAPP_MAX_CONNECTIONS=50\n</code></pre>"},{"location":"guides/environment-overrides/#nested-values","title":"Nested Values","text":"<p>Use double underscore (<code>__</code>) for nested keys:</p> <pre><code># Override database.host\nMYAPP_DATABASE__HOST=custom-db.local\n\n# Override database.port\nMYAPP_DATABASE__PORT=5433\n\n# Override api.headers.content_type\nMYAPP_API__HEADERS__CONTENT_TYPE=text/plain\n</code></pre>"},{"location":"guides/environment-overrides/#priority-order","title":"Priority Order","text":"<p>Environment variables have high priority. Values are loaded in order:</p> <ol> <li>Bundled defaults (lowest)</li> <li>Environment-specific overrides from YAML</li> <li>XDG user config</li> <li>Project config</li> <li>Environment variables (high priority)</li> <li>Constructor overrides (highest)</li> </ol>"},{"location":"guides/environment-overrides/#type-coercion","title":"Type Coercion","text":"<p>Values are automatically coerced based on the default type:</p> <pre><code>defaults:\n  port: 5432        # Integer\n  debug: false      # Boolean\n  timeout: 30.5     # Float\n  log_level: :info  # Symbol\n</code></pre> <pre><code>MYAPP_PORT=9999           # Becomes Integer 9999\nMYAPP_DEBUG=true          # Becomes Boolean true\nMYAPP_TIMEOUT=60.0        # Becomes Float 60.0\nMYAPP_LOG_LEVEL=warn      # Becomes Symbol :warn\n</code></pre>"},{"location":"guides/environment-overrides/#examples","title":"Examples","text":""},{"location":"guides/environment-overrides/#running-with-overrides","title":"Running with Overrides","text":"<pre><code># Development with custom database\nMYAPP_DATABASE__HOST=localhost MYAPP_DATABASE__PORT=5433 ruby app.rb\n\n# Production-like settings locally\nRACK_ENV=production MYAPP_DATABASE__HOST=prod-db.local ruby app.rb\n</code></pre>"},{"location":"guides/environment-overrides/#in-docker","title":"In Docker","text":"<pre><code>ENV MYAPP_DATABASE__HOST=db\nENV MYAPP_DATABASE__PORT=5432\nENV MYAPP_LOG_LEVEL=info\n</code></pre>"},{"location":"guides/environment-overrides/#in-docker-compose","title":"In docker-compose","text":"<pre><code>services:\n  app:\n    environment:\n      - RACK_ENV=production\n      - MYAPP_DATABASE__HOST=db\n      - MYAPP_DATABASE__PORT=5432\n</code></pre>"},{"location":"guides/environment-overrides/#in-heroku","title":"In Heroku","text":"<pre><code>heroku config:set MYAPP_DATABASE__HOST=your-db.herokuapp.com\nheroku config:set MYAPP_LOG_LEVEL=warn\n</code></pre>"},{"location":"guides/environment-overrides/#checking-values","title":"Checking Values","text":"<p>Verify environment variable overrides are working:</p> <pre><code>config = MyApp::Config.new\n\nputs \"Database host: #{config.database.host}\"\nputs \"From env: #{ENV['MYAPP_DATABASE__HOST']}\"\n</code></pre>"},{"location":"guides/environment-overrides/#debugging","title":"Debugging","text":"<p>If values aren't being picked up, check:</p> <ol> <li>Prefix matches - <code>env_prefix</code> in your class must match</li> <li>Double underscore - Nested keys need <code>__</code></li> <li>Case sensitivity - Environment variables are uppercase</li> <li>Load order - Config class must be loaded after env vars are set</li> </ol>"},{"location":"guides/environment-overrides/#next-steps","title":"Next Steps","text":"<ul> <li>Custom File Loading - Load from non-standard locations</li> <li>Hash-like Behavior - ConfigSection features</li> </ul>"},{"location":"guides/hash-like-behavior/","title":"Hash-like Behavior","text":"<p>ConfigSection provides Hash-like access and Enumerable support.</p>"},{"location":"guides/hash-like-behavior/#what-is-configsection","title":"What is ConfigSection?","text":"<p>When you define a nested configuration in YAML:</p> <pre><code>defaults:\n  database:\n    host: localhost\n    port: 5432\n</code></pre> <p>The <code>database</code> value becomes a <code>ConfigSection</code> object, not a plain Hash:</p> <pre><code>config.database.class  # =&gt; MywayConfig::ConfigSection\n</code></pre>"},{"location":"guides/hash-like-behavior/#why-configsection","title":"Why ConfigSection?","text":"<p>ConfigSection provides:</p> <ol> <li>Method access - <code>config.database.host</code> instead of <code>config.database[:host]</code></li> <li>Multiple access patterns - Methods, symbols, and strings all work</li> <li>Hash-like enumeration - <code>Enumerable</code> methods like <code>map</code>, <code>select</code>, <code>find</code></li> <li>Safe nested access - <code>dig</code> for deep traversal</li> </ol>"},{"location":"guides/hash-like-behavior/#access-methods","title":"Access Methods","text":""},{"location":"guides/hash-like-behavior/#method-syntax","title":"Method Syntax","text":"<pre><code>config.database.host  # =&gt; \"localhost\"\n</code></pre>"},{"location":"guides/hash-like-behavior/#bracket-syntax","title":"Bracket Syntax","text":"<pre><code>config.database[:host]   # =&gt; \"localhost\"\nconfig.database[\"host\"]  # =&gt; \"localhost\"\n</code></pre>"},{"location":"guides/hash-like-behavior/#setting-values","title":"Setting Values","text":"<pre><code>config.database.host = \"new-host\"\nconfig.database[:port] = 5433\n</code></pre>"},{"location":"guides/hash-like-behavior/#hash-methods","title":"Hash Methods","text":""},{"location":"guides/hash-like-behavior/#keys-and-values","title":"Keys and Values","text":"<pre><code>config.database.keys    # =&gt; [:host, :port, :name, :pool]\nconfig.database.values  # =&gt; [\"localhost\", 5432, \"myapp_db\", 5]\nconfig.database.size    # =&gt; 4\nconfig.database.length  # =&gt; 4\n</code></pre>"},{"location":"guides/hash-like-behavior/#key-checking","title":"Key Checking","text":"<pre><code>config.database.key?(:host)      # =&gt; true\nconfig.database.has_key?(:host)  # =&gt; true\nconfig.database.include?(:host)  # =&gt; true\nconfig.database.member?(:host)   # =&gt; true\n\nconfig.database.empty?           # =&gt; false\n</code></pre>"},{"location":"guides/hash-like-behavior/#fetch","title":"Fetch","text":"<pre><code># With key\nconfig.database.fetch(:host)  # =&gt; \"localhost\"\n\n# With default\nconfig.database.fetch(:missing, \"default\")  # =&gt; \"default\"\n\n# With block\nconfig.database.fetch(:missing) { |k| \"no #{k}\" }  # =&gt; \"no missing\"\n\n# Without default (raises KeyError)\nconfig.database.fetch(:missing)  # =&gt; KeyError: key not found: :missing\n</code></pre>"},{"location":"guides/hash-like-behavior/#dig","title":"Dig","text":"<pre><code>config.api.dig(:headers, :content_type)  # =&gt; \"application/json\"\nconfig.api.dig(:missing, :nested)        # =&gt; nil\n</code></pre>"},{"location":"guides/hash-like-behavior/#enumerable-methods","title":"Enumerable Methods","text":"<p>ConfigSection includes <code>Enumerable</code>:</p>"},{"location":"guides/hash-like-behavior/#each","title":"each","text":"<pre><code>config.database.each do |key, value|\n  puts \"#{key}: #{value}\"\nend\n# host: localhost\n# port: 5432\n# ...\n</code></pre>"},{"location":"guides/hash-like-behavior/#map","title":"map","text":"<pre><code>config.database.map { |k, v| \"#{k}=#{v}\" }\n# =&gt; [\"host=localhost\", \"port=5432\", ...]\n</code></pre>"},{"location":"guides/hash-like-behavior/#select-reject","title":"select / reject","text":"<pre><code># Select numeric values\nconfig.database.select { |k, v| v.is_a?(Integer) }\n# =&gt; [[:port, 5432], [:pool, 5]]\n\n# Reject nil values\nconfig.database.reject { |k, v| v.nil? }\n</code></pre>"},{"location":"guides/hash-like-behavior/#find-detect","title":"find / detect","text":"<pre><code>config.database.find { |k, v| v == 5432 }\n# =&gt; [:port, 5432]\n</code></pre>"},{"location":"guides/hash-like-behavior/#any-all-none","title":"any? / all? / none?","text":"<pre><code>config.database.any? { |k, v| v.nil? }   # =&gt; false\nconfig.database.all? { |k, v| v }        # =&gt; true\nconfig.database.none? { |k, v| v.nil? }  # =&gt; true\n</code></pre>"},{"location":"guides/hash-like-behavior/#other-enumerable-methods","title":"Other Enumerable Methods","text":"<p>All standard Enumerable methods work:</p> <ul> <li><code>count</code>, <code>first</code>, <code>take</code>, <code>drop</code></li> <li><code>min</code>, <code>max</code>, <code>minmax</code></li> <li><code>sort</code>, <code>sort_by</code></li> <li><code>group_by</code>, <code>partition</code></li> <li><code>reduce</code>, <code>inject</code></li> <li>And more...</li> </ul>"},{"location":"guides/hash-like-behavior/#conversion","title":"Conversion","text":""},{"location":"guides/hash-like-behavior/#to_h","title":"to_h","text":"<p>Convert to a plain Ruby Hash:</p> <pre><code>config.database.to_h\n# =&gt; {host: \"localhost\", port: 5432, name: \"myapp_db\", pool: 5}\n</code></pre> <p>Nested ConfigSections are also converted:</p> <pre><code>config.api.to_h\n# =&gt; {\n#      base_url: \"https://api.example.com\",\n#      timeout: 30,\n#      headers: {content_type: \"application/json\"}\n#    }\n</code></pre>"},{"location":"guides/hash-like-behavior/#merge","title":"merge","text":"<p>Merge with another ConfigSection or Hash:</p> <pre><code>overrides = { host: \"new-host\", pool: 10 }\nmerged = config.database.merge(overrides)\n\nmerged.host  # =&gt; \"new-host\"\nmerged.pool  # =&gt; 10\nmerged.port  # =&gt; 5432 (from original)\n</code></pre>"},{"location":"guides/hash-like-behavior/#practical-examples","title":"Practical Examples","text":""},{"location":"guides/hash-like-behavior/#building-connection-strings","title":"Building Connection Strings","text":"<pre><code>db = config.database\nconnection_string = \"postgres://#{db.host}:#{db.port}/#{db.name}\"\n</code></pre>"},{"location":"guides/hash-like-behavior/#filtering-configuration","title":"Filtering Configuration","text":"<pre><code># Get all non-nil database settings\nconfig.database.reject { |k, v| v.nil? }.to_h\n</code></pre>"},{"location":"guides/hash-like-behavior/#transforming-values","title":"Transforming Values","text":"<pre><code># Upcase all string values\nconfig.database.map { |k, v|\n  [k, v.is_a?(String) ? v.upcase : v]\n}.to_h\n</code></pre>"},{"location":"guides/hash-like-behavior/#next-steps","title":"Next Steps","text":"<ul> <li>Examples - Real-world usage examples</li> <li>API Reference - Complete ConfigSection API</li> </ul>"},{"location":"guides/yaml-structure/","title":"YAML Structure","text":"<p>The YAML defaults file is the single source of truth for your configuration structure and default values.</p>"},{"location":"guides/yaml-structure/#required-structure","title":"Required Structure","text":"<p>The file must have a <code>defaults</code> key. Other top-level keys are environment names.</p> <pre><code>defaults:           # Required - defines structure and default values\n  key: value\n\ndevelopment:        # Optional - overrides for development\n  key: dev_value\n\nproduction:         # Optional - overrides for production\n  key: prod_value\n\ntest:               # Optional - overrides for test\n  key: test_value\n</code></pre>"},{"location":"guides/yaml-structure/#the-defaults-section","title":"The <code>defaults</code> Section","text":"<p>The <code>defaults</code> section defines:</p> <ol> <li>Structure - What keys exist in your configuration</li> <li>Types - Hash values become <code>ConfigSection</code>, symbols stay symbols</li> <li>Default values - Base values before any overrides</li> </ol> <pre><code>defaults:\n  # Nested configuration (becomes ConfigSection)\n  database:\n    host: localhost\n    port: 5432\n    name: myapp_db\n    pool: 5\n\n  # Another nested section\n  api:\n    base_url: https://api.example.com\n    timeout: 30\n    headers:\n      content_type: application/json\n\n  # Symbol value (coerced to :info)\n  log_level: :info\n\n  # Scalar values\n  debug: false\n  max_connections: 10\n</code></pre>"},{"location":"guides/yaml-structure/#environment-sections","title":"Environment Sections","text":"<p>Environment sections contain only overrides. Values merge with defaults.</p> <pre><code>defaults:\n  database:\n    host: localhost\n    port: 5432\n    name: myapp_db\n  log_level: :info\n  debug: false\n\ndevelopment:\n  # Only override what's different\n  database:\n    name: myapp_development\n  log_level: :debug\n  debug: true\n\nproduction:\n  database:\n    host: prod-db.example.com\n    name: myapp_production\n    pool: 25\n  log_level: :warn\n  # debug remains false (from defaults)\n\ntest:\n  database:\n    name: myapp_test\n</code></pre>"},{"location":"guides/yaml-structure/#merge-behavior","title":"Merge Behavior","text":"<p>Environment values are deep-merged with defaults:</p> <pre><code>defaults:\n  database:\n    host: localhost\n    port: 5432\n    name: myapp_db\n    pool: 5\n\nproduction:\n  database:\n    host: prod-db.example.com\n    pool: 25\n</code></pre> <p>Result in production:</p> <pre><code>config.database.host  # =&gt; \"prod-db.example.com\" (overridden)\nconfig.database.port  # =&gt; 5432 (from defaults)\nconfig.database.name  # =&gt; \"myapp_db\" (from defaults)\nconfig.database.pool  # =&gt; 25 (overridden)\n</code></pre>"},{"location":"guides/yaml-structure/#supported-value-types","title":"Supported Value Types","text":"YAML Type Ruby Type Notes <code>string</code> <code>String</code> Plain strings <code>123</code> <code>Integer</code> Numbers <code>1.5</code> <code>Float</code> Decimals <code>true</code>/<code>false</code> <code>Boolean</code> Booleans <code>:symbol</code> <code>Symbol</code> Colon prefix for symbols <code>hash:</code> <code>ConfigSection</code> Nested hashes become ConfigSection <code>[a, b]</code> <code>Array</code> Arrays <code>null</code> <code>nil</code> Null values"},{"location":"guides/yaml-structure/#environment-detection","title":"Environment Detection","text":"<p>The current environment is determined by (in order):</p> <ol> <li><code>Anyway::Settings.current_environment</code></li> <li><code>ENV['RAILS_ENV']</code></li> <li><code>ENV['RACK_ENV']</code></li> <li><code>'development'</code> (default)</li> </ol>"},{"location":"guides/yaml-structure/#custom-environments","title":"Custom Environments","text":"<p>You can define any environment name:</p> <pre><code>defaults:\n  api_url: https://api.example.com\n\nstaging:\n  api_url: https://staging-api.example.com\n\ncanary:\n  api_url: https://canary-api.example.com\n</code></pre> <pre><code>RACK_ENV=staging ruby app.rb\n</code></pre>"},{"location":"guides/yaml-structure/#valid-environments","title":"Valid Environments","text":"<p>You can check if an environment is defined:</p> <pre><code>MyApp::Config.valid_environments  # =&gt; [:development, :production, :test]\nMyApp::Config.valid_environment?  # =&gt; true (if current env is defined)\n</code></pre>"},{"location":"guides/yaml-structure/#next-steps","title":"Next Steps","text":"<ul> <li>Accessing Values - How to read your configuration</li> <li>Environment Overrides - Override with environment variables</li> </ul>"}]}